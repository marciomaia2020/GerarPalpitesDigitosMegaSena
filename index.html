<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mega Sena - Gerador de Palpites Avan√ßado com 5 Se√ß√µes Completas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        megasena: '#1B9A67',
                        'megasena-light': '#2db87f',
                        'megasena-dark': '#158755',
                        'megasena-bg': '#f0fdf4'
                    }
                }
            }
        }
    </script>
    <style>
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 5px rgba(27, 154, 103, 0.3); }
            50% { box-shadow: 0 0 20px rgba(27, 154, 103, 0.6); }
        }
        .loading-circle {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #1B9A67, #2db87f, #158755);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        .numero-mega {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #1B9A67, #2db87f);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        
        .numero-mega:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(27, 154, 103, 0.4);
        }
        
        .numero-mega.selecionado {
            background: linear-gradient(135deg, #dc2626, #ef4444);
            box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.3);
            border-color: #dc2626;
        }
        
        .numero-mega.disabled {
            background: #9ca3af;
            cursor: not-allowed;
            opacity: 0.5;
        }
        
        .numero-mega.sorteado {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            border: 2px solid #fbbf24;
            position: relative;
        }
        
        .numero-mega.sorteado::after {
            content: "üéØ";
            position: absolute;
            top: -8px;
            right: -8px;
            font-size: 12px;
        }
        
        .numero-mega.sorteado.disabled {
            background: #6b7280;
            opacity: 0.4;
            cursor: not-allowed;
        }

        .numero-mega.par {
            border: 2px solid #10b981;
        }
        .numero-mega.impar {
            border: 2px solid #8b5cf6;
        }

        .contador-destaque {
            animation: bounce 1s ease-in-out;
        }
        
        .meta-atingida {
            background: linear-gradient(45deg, #10b981, #34d399) !important;
            color: white;
            animation: pulse 1s infinite;
        }
        
        .meta-excedida {
            background: linear-gradient(45deg, #ef4444, #f87171) !important;
            color: white;
            animation: pulse 0.5s infinite;
        }

        .drop-zone {
            min-height: 120px;
            border: 3px dashed #1B9A67;
            border-radius: 12px;
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: #1B9A67;
            font-weight: bold;
            transition: all 0.3s;
            position: relative;
        }

        .drop-zone:hover {
            border-color: #158755;
            background: linear-gradient(135deg, #dcfce7, #bbf7d0);
            transform: scale(1.02);
        }

        .drop-zone.drag-over {
            border-color: #dc2626;
            background: linear-gradient(135deg, #fee2e2, #fecaca);
            border-style: solid;
            animation: pulse 0.5s infinite;
        }

        .drop-zone.has-numbers {
            background: linear-gradient(to right, #f0fdf4, #dcfce7);
            border-style: solid;
            padding: 16px;
            justify-content: flex-start;
            align-items: flex-start;
        }

        .numero-drop {
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #1B9A67, #2db87f);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
            margin: 2px;
            position: relative;
            cursor: move;
            transition: all 0.2s;
        }

        .numero-drop:hover {
            transform: scale(1.1);
            z-index: 10;
        }

        .numero-drop.dragging {
            opacity: 0.5;
            transform: scale(1.1);
            z-index: 1000;
        }

        .numero-drop .remove-btn {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #dc2626;
            color: white;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .numero-drop:hover .remove-btn {
            opacity: 1;
        }
        
        .jogo-card {
            background: linear-gradient(to right, #f0fdf4, #dcfce7);
            border: 2px solid #1B9A67;
            border-radius: 12px;
            padding: 16px;
            margin: 8px 0;
        }
        
        .numero-jogo {
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #1B9A67, #2db87f);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
        }
        
        .custo-total {
            background: linear-gradient(45deg, #1B9A67, #158755);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 18px;
        }

        .numero-resultado {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #1B9A67, #2db87f);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            margin: 0 4px;
        }

        /* Se√ß√µes destacadas para gera√ß√£o de jogos */
        .secao-geracao {
            border: 3px solid #1B9A67;
            border-radius: 15px;
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            position: relative;
            animation: glow 3s ease-in-out infinite;
        }

        .secao-geracao::before {
            content: "üéØ GERA√á√ÉO DE JOGOS";
            position: absolute;
            top: -12px;
            left: 20px;
            background: #1B9A67;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }

        .secao-titulo {
            background: linear-gradient(45deg, #1B9A67, #2db87f);
            color: white;
            padding: 12px 20px;
            margin: -24px -24px 20px -24px;
            border-radius: 12px 12px 0 0;
            font-weight: bold;
            font-size: 18px;
            text-align: center;
        }

        .config-principal {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border: 3px solid #f59e0b;
            border-radius: 15px;
            position: relative;
        }

        .config-principal::before {
            content: "‚öôÔ∏è CONFIGURA√á√ÉO PRINCIPAL";
            position: absolute;
            top: -12px;
            left: 20px;
            background: #f59e0b;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }

        /* Estilos para todas as se√ß√µes */
        .numero-base {
            background: linear-gradient(135deg, #1B9A67, #2db87f);
            color: white;
            border-radius: 6px;
            padding: 4px 8px;
            font-size: 12px;
            font-weight: bold;
            margin: 2px;
            display: inline-block;
        }

        .jogo-minimalista-card, .jogo-alterado-card, .jogo-regras-fixas-card {
            background: linear-gradient(to right, #f0fdf4, #dcfce7);
            border: 2px solid #1B9A67;
            border-radius: 12px;
            padding: 12px;
            margin: 8px 0;
        }

        .numero-minimalista, .numero-alterado, .numero-regras-fixas {
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #1B9A67, #2db87f);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
            margin: 2px;
        }

        /* Estilos para informa√ß√µes de pares/√≠mpares */
        .info-pares-impares {
            background: linear-gradient(135deg, #e0f2fe, #b3e5fc);
            border: 2px solid #0288d1;
            border-radius: 8px;
            padding: 12px;
            margin: 12px 0;
        }

        /* Estilos para √°rea de inser√ß√£o manual */
        .input-manual {
            min-height: 80px;
            border: 3px dashed #8b5cf6;
            border-radius: 12px;
            background: linear-gradient(135deg, #faf5ff, #f3e8ff);
            padding: 16px;
            color: #8b5cf6;
            font-weight: bold;
        }

        .input-manual:focus {
            outline: none;
            border-color: #7c3aed;
            background: linear-gradient(135deg, #f3e8ff, #e9d5ff);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        /* Drag and Drop para n√∫meros do grid */
        .numero-mega.draggable {
            cursor: grab;
        }

        .numero-mega.draggable:active {
            cursor: grabbing;
        }

        .numero-mega.dragging {
            opacity: 0.5;
            transform: scale(1.1);
            z-index: 1000;
            box-shadow: 0 8px 25px rgba(27, 154, 103, 0.6);
        }
		
		/* Estilos espec√≠ficos para fechamento */
		.numero-fechamento {
			width: 35px;
			height: 35px;
			background: linear-gradient(135deg, #f59e0b, #f97316);
			color: white;
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			font-weight: bold;
			font-size: 14px;
			margin: 2px;
		}

		.jogo-fechamento-card {
			background: linear-gradient(to right, #fefce8, #fef3c7);
			border: 2px solid #f59e0b;
			border-radius: 12px;
			padding: 12px;
			margin: 8px 0;
		}

		.numero-mega.selecionado-fechamento {
			background: linear-gradient(135deg, #f59e0b, #ea580c);
			box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.3);
			border-color: #f59e0b;
		}

		.fechamento-analise {
			background: linear-gradient(135deg, #fefce8, #fef3c7);
			border: 2px solid #f59e0b;
			border-radius: 12px;
			padding: 16px;
			margin: 12px 0;
		}
		
    </style>
</head>
<body class="bg-megasena-bg min-h-screen">
    <div class="container mx-auto px-4 py-6">
        <!-- Header -->
        <div class="text-center mb-6">
            <h1 class="text-4xl font-bold text-megasena mb-2">üçÄ MEGA SENA</h1>
            <p class="text-gray-600">Gerador Completo com 5 Se√ß√µes: Manual + Minimalista + Posi√ß√µes + Alterados + Regras Fixas</p>
            <div class="mt-3 flex flex-wrap justify-center gap-2">
                <a href="https://resultadosdigitosmegasena.netlify.app" target="_blank" 
                   class="inline-flex items-center bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm transition-colors">
                    üåê An√°lise dos D√≠gitos
                </a>
                <a href="https://resultadosalteradomegasena.netlify.app" target="_blank" 
                   class="inline-flex items-center bg-orange-500 hover:bg-orange-600 text-white px-3 py-2 rounded-lg text-sm transition-colors">
                    üåê Resultados Alterados
                </a>
            </div>
        </div>

        <!-- ‚öôÔ∏è CONFIGURA√á√ÉO PRINCIPAL DE VALORES -->
        <div class="config-principal p-6 mb-6">
            <div class="secao-titulo">‚öôÔ∏è CONFIGURA√á√ÉO PRINCIPAL - VALORES DA MEGA SENA</div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                <div>
                    <label class="block text-orange-800 font-medium mb-2">üí∞ Valor da Aposta Simples (6 dezenas):</label>
                    <div class="flex gap-2">
                        <span class="text-orange-800 font-bold text-lg">R$</span>
                        <input 
                            type="number" 
                            id="valorApostaSimples" 
                            value="6.00" 
                            min="1" 
                            max="100" 
                            step="0.01"
                            class="w-24 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 text-base font-bold text-center"
                        >
                        <button id="btnAtualizarValores" class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg">
                            üîÑ Atualizar
                        </button>
                    </div>
                    <div class="text-xs text-orange-600 mt-1">
                        <strong>Padr√£o oficial:</strong> R$ 6,00 (CEF)
                    </div>
                </div>
                
                <div>
                    <label class="block text-orange-800 font-medium mb-2">üìä Multiplicadores Autom√°ticos:</label>
                    <div class="bg-white p-3 rounded border text-xs">
                        <div><strong>7 dezenas:</strong> <span id="mult7">7x</span> = <span id="valor7">R$ 42,00</span></div>
                        <div><strong>8 dezenas:</strong> <span id="mult8">28x</span> = <span id="valor8">R$ 168,00</span></div>
                        <div><strong>15 dezenas:</strong> <span id="mult15">5005x</span> = <span id="valor15">R$ 30.030,00</span></div>
                    </div>
                </div>
                
                <div>
                    <label class="block text-orange-800 font-medium mb-2">üí° Status do Sistema:</label>
                    <div class="bg-green-100 p-3 rounded border text-xs text-green-800">
                        <div id="statusSistema">‚úÖ Sistema configurado</div>
                        <div><strong>√öltima atualiza√ß√£o:</strong> <span id="ultimaAtualizacao">-</span></div>
                        <div><strong>Total de se√ß√µes:</strong> 5 (Manual + Min + Pos + Alt + Fix)</div>
                    </div>
                </div>
            </div>
            
            <div class="bg-orange-100 border border-orange-300 rounded p-3 text-sm text-orange-800">
                <strong>üìå Como funciona:</strong> Defina o valor da aposta simples acima e todos os outros valores ser√£o calculados automaticamente usando os multiplicadores oficiais da Caixa. O sistema atualiza automaticamente todas as 5 se√ß√µes de gera√ß√£o de jogos.
            </div>
        </div>

        <!-- Loading -->
        <div id="loading" class="text-center py-8">
            <div class="loading-circle mx-auto mb-4"></div>
            <p class="text-megasena font-medium">üîç Carregando dados da Mega Sena...</p>
            <div class="mt-4">
                <div id="loadingDetails" class="text-sm text-gray-600">Inicializando sistema...</div>
                <div id="loadingProgress" class="w-full bg-gray-200 rounded-full h-2 mt-2">
                    <div id="progressBar" class="bg-megasena h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                </div>
            </div>
        </div>

        <!-- √öltimo Resultado -->
        <div id="ultimoResultado" class="hidden mb-6">
            <div class="bg-white rounded-lg shadow-lg overflow-hidden border-2 border-megasena">
                <div class="bg-megasena text-white p-4 text-center">
                    <h2 id="tituloResultado" class="text-xl font-bold">Concurso</h2>
                    <div id="dataResultado" class="text-sm">üìÖ Data do sorteio</div>
                </div>
                
                <div class="p-6 text-center">
                    <div id="numerosResultado" class="flex justify-center gap-2 mb-4">
                        <!-- N√∫meros sorteados ser√£o inseridos aqui -->
                    </div>
                    
                    <div id="statusResultado" class="text-lg font-bold mb-4 text-red-600">
                        <!-- Status ser√° inserido aqui -->
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                        <div id="premiacao5" class="flex items-center justify-center">
                            <!-- Premia√ß√£o 5 acertos -->
                        </div>
                        <div id="premiacao4" class="flex items-center justify-center">
                            <!-- Premia√ß√£o 4 acertos -->
                        </div>
                    </div>
                    
                    <div class="mt-4 text-center">
                        <div class="text-sm text-gray-600">Pr√≥ximo Sorteio: <span id="proximoConcurso">Concurso</span></div>
                        <div class="text-sm text-gray-600" id="dataProximoConcurso">Data</div>
                        <div class="text-2xl font-bold text-megasena mt-2" id="premioEstimado">
                            Pr√™mio Estimado
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Interface Principal - 5 Se√ß√µes Completas -->
        <div id="interfacePrincipal" class="hidden grid grid-cols-1 xl:grid-cols-2 gap-6">
            
            <!-- LADO ESQUERDO: Todas as 5 Se√ß√µes de Gera√ß√£o -->
            <div class="space-y-6">
                
                <!-- üéØ SE√á√ÉO 1: JOGO MANUAL -->
                <div class="secao-geracao bg-white rounded-lg shadow-lg p-6">
                    <div class="secao-titulo">üéÆ SE√á√ÉO 1: CRIA√á√ÉO MANUAL DE JOGOS</div>
                    <div class="mt-3 flex justify-center gap-2">
                        <a href="https://resumomegasena-i.netlify.app" target="_blank" 
                           class="inline-flex items-center bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm transition-colors">
                            üåê Padr√µes Identificados
                        </a>
                        <button id="modalManualBtn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm">
                            ‚ùì Como Funciona
                        </button>
                    </div><br />

                    <!-- üéØ ESTRAT√âGIA: PARES vs √çMPARES (TEMPO REAL) -->
                    <div class="mb-6 p-5 bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 border-4 border-green-400 rounded-xl shadow-lg">
                        <div class="text-xl font-bold text-gray-800 mb-4 text-center">‚ö™ ESTRAT√âGIA: PARES vs √çMPARES (TEMPO REAL)</div>
                        
                        <!-- üéØ PADR√ÉO HIST√ìRICO MAIS COMUM -->
                        <div id="padraoHistorico" class="mb-4 p-4 bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-orange-300 rounded-lg text-center">
                            <div class="text-sm font-bold text-orange-800 mb-2">üèÜ PADR√ÉO HIST√ìRICO MAIS COMUM:</div>
                            <div class="text-2xl font-bold text-orange-900 mb-1">
                                <span class="text-green-600">3</span>P/<span class="text-purple-600">3</span>I
                            </div>
                            <div class="text-sm text-orange-700">
                                <span class="font-bold">747</span> vezes (<span class="font-bold">30.4</span>% dos casos)
                            </div>
                            <div class="text-xs text-orange-600 mt-1">üìà An√°lise de TODOS os concursos hist√≥ricos</div>
                        </div>

                        <!-- Estat√≠stica do √öltimo Sorteio REAL -->
                        <div id="estatisticaUltimoSorteio" class="mb-4 p-3 bg-blue-100 border border-blue-300 rounded-lg text-center">
                            <div class="text-sm font-medium text-blue-800">üìä √öLTIMO SORTEIO TEVE:</div>
                            <div class="text-lg font-bold text-blue-900">
                                <span id="paresUltimoSorteio" class="text-green-600">3</span> PARES + 
                                <span id="imparesUltimoSorteio" class="text-purple-600">3</span> √çMPARES
                            </div>
                            <div class="text-xs text-blue-700">üëÜ Dados reais da API da Caixa Econ√¥mica Federal</div>
                        </div>
                        
                        <!-- Contador Visual Atual com Meta Din√¢mica -->
                        <div class="grid grid-cols-2 gap-6 mb-4">
                            <div class="text-center p-4 bg-green-100 rounded-lg border-2 border-green-300">
                                <div class="text-4xl font-bold text-green-600 contador-destaque" id="paresAtuais">0</div>
                                <div class="text-lg font-bold text-green-700">PARES</div>
                                <div class="text-sm text-green-600">üéØ Meta Atual: <span id="metaPares" class="font-bold">3</span></div>
                                <div class="text-xs text-green-500">2, 4, 6, 8, 10...</div>
                            </div>
                            <div class="text-center p-4 bg-purple-100 rounded-lg border-2 border-purple-300">
                                <div class="text-4xl font-bold text-purple-600 contador-destaque" id="imparesAtuais">0</div>
                                <div class="text-lg font-bold text-purple-700">√çMPARES</div>
                                <div class="text-sm text-purple-600">üéØ Meta Atual: <span id="metaImpares" class="font-bold">3</span></div>
                                <div class="text-xs text-purple-500">1, 3, 5, 7, 9...</div>
                            </div>
                        </div>
                        
                        <!-- Status da Estrat√©gia -->
                        <div id="statusEstrategia" class="text-center p-3 rounded-lg font-bold text-lg bg-gray-100 text-gray-700">
                            üéØ Selecione n√∫meros para ver sua estrat√©gia
                        </div>
                        
                        <!-- Dica Din√¢mica -->
                        <div id="dicaEstrategia" class="mt-3 text-center text-sm bg-yellow-100 border border-yellow-300 rounded p-2 text-yellow-800">
                            üí° <strong>Dica:</strong> O padr√£o 3P/3I √© o mais comum com 30.4% dos sorteios!
                        </div>
                    </div><hr />
                
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-megasena">üéÆ Criar Novo Jogo</h3>
                    <button id="comoFuncionaBtn" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm">
                        ‚ùì Como Funciona
                    </button>
                </div>
                
                <!-- Quantidade de Dezenas -->
                <div class="mb-4">
                    <label class="block text-megasena font-medium mb-2">Quantidade de Dezenas:</label>
                    <select id="quantidadeDezenas" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-megasena text-base">
                        <!-- Ser√° preenchido dinamicamente -->
                    </select>
                </div>

                <!-- üìù SE√á√ÉO: Inser√ß√£o Manual de N√∫meros -->
                <div class="mb-4">
                    <label class="block text-purple-600 font-medium mb-2">‚úèÔ∏è Inser√ß√£o Manual de N√∫meros:</label>
                    <textarea 
                        id="inputManual" 
                        class="w-full input-manual resize-none text-base"
                        placeholder="Digite os n√∫meros separados por v√≠rgula, espa√ßo ou quebra de linha...
Exemplos:
‚Ä¢ 01, 02, 03, 04, 05, 06
‚Ä¢ 1 2 3 4 5 6
‚Ä¢ 01
  02
  03
  04
  05
  06"
                        rows="4"
                    ></textarea>
                    <div class="flex justify-between items-center mt-2 text-xs">
                        <span class="text-purple-600">üí° Dica: Cole n√∫meros de qualquer formato</span>
                        <button id="processarInput" class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-sm">
                            üìù Processar N√∫meros
                        </button>
                    </div>
                </div>

                <!-- Grid de N√∫meros 1-60 -->
                <div class="mb-4">
                    <label class="block text-megasena font-medium mb-2">Selecione as Dezenas (01-60):</label>
                    <div class="text-xs mb-2 text-gray-600">
                        <span class="text-green-600">‚óè</span> Verde = Pares | 
                        <span class="text-purple-600">‚óè</span> Roxo = √çmpares |
                        <span class="text-blue-600">üñ±Ô∏è</span> Clique ou arraste
                    </div>
                    <div id="gridNumeros" class="grid grid-cols-6 gap-2">
                        <!-- N√∫meros de 01 a 60 ser√£o gerados aqui -->
                    </div>
                </div>

                <!-- üì• SE√á√ÉO: √Årea de Drag and Drop COMPLETA -->
                <div class="mb-4">
                    <label class="block text-megasena font-medium mb-2">üéØ N√∫meros Selecionados (Drag & Drop):</label>
                    <div 
                        id="dropZone" 
                        class="drop-zone"
                        ondrop="drop(event)" 
                        ondragover="allowDrop(event)"
                        ondragenter="dragEnter(event)"
                        ondragleave="dragLeave(event)"
                    >
                        <div id="dropMessage">
                            <div class="text-lg mb-2">üì• Arraste n√∫meros aqui ou clique nos n√∫meros acima</div>
                            <div class="text-sm">Os n√∫meros selecionados aparecer√£o aqui</div>
                            <div class="text-xs mt-2 text-gray-600">‚ú® Funciona com drag & drop!</div>
                        </div>
                        <div id="numerosDropped" class="hidden flex flex-wrap justify-center gap-1">
                            <!-- N√∫meros selecionados aparecer√£o aqui -->
                        </div>
                    </div>
                    <div class="flex justify-between items-center mt-2 text-xs text-gray-600">
                        <span>Quantidade especificada: <span id="quantidadeEspecificada" class="font-bold">6</span></span>
                        <span>N√∫meros selecionados: <span id="numerosNaArea" class="font-bold">0</span></span>
                        <button id="limparArea" class="bg-gray-400 hover:bg-gray-500 text-white px-3 py-1 rounded text-xs">
                            üóëÔ∏è Limpar √Årea
                        </button>
                    </div>
                </div>

                <!-- Bot√µes de A√ß√£o -->
                <div class="flex flex-wrap gap-2">
                    <button id="limparJogo" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg">
                        üóëÔ∏è Limpar
                    </button>
                    <button id="randomizarJogo" class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg">
                        üé≤ Aleat√≥rio
                    </button>
                    <button id="adicionarJogo" class="bg-megasena hover:bg-megasena-dark text-white px-4 py-2 rounded-lg disabled:opacity-50">
                        ‚ûï Adicionar Jogo
                    </button>
                </div>
                </div>
                
                <!-- üßÆ SE√á√ÉO 2: GERA√á√ÉO MINIMALISTA -->
                <div class="secao-geracao bg-white rounded-lg shadow-lg p-6">
                    <div class="secao-titulo">üßÆ SE√á√ÉO 2: GERA√á√ÉO MINIMALISTA (Menos Jogos)</div>
                    <div class="mt-3 flex justify-center gap-2">
                        <a href="https://resumomegasena.netlify.app" target="_blank" 
                           class="inline-flex items-center bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm transition-colors">
                            üåê Estrat√©gia Minimalista
                        </a>
                        <button id="modalMinimalistaBtn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm">
                            ‚ùì Como Funciona
                        </button>
                    </div><br />

                    <!-- Informa√ß√£o de Pares/√çmpares -->
                    <div class="info-pares-impares">
                        <div class="text-sm font-bold text-blue-800 mb-2">üìä ESTRAT√âGIA APLICADA:</div>
                        <div class="text-sm text-blue-700">
                            üéØ <strong>Padr√£o hist√≥rico:</strong> 3P/3I ocorre em 30.4% dos sorteios<br>
                            üìà <strong>√öltimo sorteio:</strong> <span id="infoParesMin">3</span> pares + <span id="infoImparesMin">3</span> √≠mpares<br>
                            ‚ö° <strong>Estrat√©gia equilibrada:</strong> Gera jogos seguindo distribui√ß√£o hist√≥rica
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-megasena font-medium mb-2">Configura√ß√µes Minimalistas:</label>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm">Quantidade de Jogos:</label>
                                <select id="qtdJogosMin" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-base">
                                    <option value="3">3 jogos</option>
                                    <option value="5" selected>5 jogos</option>
                                    <option value="7">7 jogos</option>
                                    <option value="10">10 jogos</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm">Dezenas por jogo:</label>
                                <select id="dezenasPorJogoMin" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-base">
                                    <option value="6" selected>6 dezenas</option>
                                    <option value="7">7 dezenas</option>
                                    <option value="8">8 dezenas</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-megasena font-medium mb-2">Estrat√©gia:</label>
                        <select id="estrategiaMin" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-base">
                            <option value="equilibrada" selected>üéØ Equilibrada (3P/3I)</option>
                            <option value="aleatorio">üé≤ Totalmente Aleat√≥rio</option>
                            <option value="pares">üìä Mais Pares</option>
                            <option value="impares">üìä Mais √çmpares</option>
                        </select>
                    </div>
                    
                    <button id="gerarJogosMin" class="w-full bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg font-bold">
                        üöÄ Gerar Jogos Minimalistas
                    </button>
                    
                    <div id="resultadosMin" class="mt-4 hidden">
                        <h4 class="font-bold text-purple-600 mb-2">Jogos Gerados:</h4>
                        <div id="listaJogosMin" class="space-y-2 max-h-60 overflow-y-auto">
                            <!-- Jogos minimalistas aparecer√£o aqui -->
                        </div>
                        <div class="mt-3 text-center">
                            <button id="adicionarTodosMin" class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg">
                                ‚ûï Adicionar Todos aos Meus Jogos
                            </button>
                        </div>
                    </div>
                </div>

                <!-- üìç SE√á√ÉO 3: AN√ÅLISE POR POSI√á√ïES -->
                <div class="secao-geracao bg-white rounded-lg shadow-lg p-6">
                    <div class="secao-titulo">üìç SE√á√ÉO 3: AN√ÅLISE POR POSI√á√ïES (1¬™ a 6¬™)</div>
                    <div class="mt-3 flex justify-center gap-2">
                        <a href="https://resumomegasena-i.netlify.app" target="_blank" 
                           class="inline-flex items-center bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm transition-colors">
                            üåê An√°lise por Posi√ß√µes
                        </a>
                        <button id="modalPosicoesBtn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm">
                            ‚ùì Como Funciona
                        </button>
                    </div><br />

                    <!-- Informa√ß√£o de Pares/√çmpares -->
                    <div class="info-pares-impares">
                        <div class="text-sm font-bold text-blue-800 mb-2">üìä DISTRIBUI√á√ÉO POR POSI√á√ïES:</div>
                        <div class="text-sm text-blue-700">
                            üéØ <strong>Baseado no √∫ltimo sorteio:</strong> <span id="infoNumerosPosicoes"></span><br>
                            üìà <strong>Distribui√ß√£o P/I:</strong> <span id="infoParesPos">3</span> pares + <span id="infoImparesPos">3</span> √≠mpares<br>
                            ‚ö° <strong>Estrat√©gia:</strong> Cada posi√ß√£o mant√©m n√∫meros pr√≥ximos aos sorteados
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <p class="text-sm text-gray-600 mb-3">Configure n√∫meros para cada posi√ß√£o baseado nos √∫ltimos sorteios:</p>
                        
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                            <div>
                                <label class="block text-sm font-medium">1¬™ Posi√ß√£o (menor):</label>
                                <input type="text" id="pos1" placeholder="Ex: 01,02,03" class="w-full px-2 py-1 border rounded text-sm">
                            </div>
                            <div>
                                <label class="block text-sm font-medium">2¬™ Posi√ß√£o:</label>
                                <input type="text" id="pos2" placeholder="Ex: 10,15,20" class="w-full px-2 py-1 border rounded text-sm">
                            </div>
                            <div>
                                <label class="block text-sm font-medium">3¬™ Posi√ß√£o:</label>
                                <input type="text" id="pos3" placeholder="Ex: 25,30,35" class="w-full px-2 py-1 border rounded text-sm">
                            </div>
                            <div>
                                <label class="block text-sm font-medium">4¬™ Posi√ß√£o:</label>
                                <input type="text" id="pos4" placeholder="Ex: 40,42,45" class="w-full px-2 py-1 border rounded text-sm">
                            </div>
                            <div>
                                <label class="block text-sm font-medium">5¬™ Posi√ß√£o:</label>
                                <input type="text" id="pos5" placeholder="Ex: 50,52,55" class="w-full px-2 py-1 border rounded text-sm">
                            </div>
                            <div>
                                <label class="block text-sm font-medium">6¬™ Posi√ß√£o (maior):</label>
                                <input type="text" id="pos6" placeholder="Ex: 58,59,60" class="w-full px-2 py-1 border rounded text-sm">
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-megasena font-medium mb-2">Quantidade de Jogos:</label>
                        <select id="qtdJogosPos" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-base">
                            <option value="5" selected>5 jogos</option>
                            <option value="10">10 jogos</option>
                            <option value="15">15 jogos</option>
                        </select>
                    </div>
                    
                    <div class="flex gap-2">
                        <button id="preencherPosicoes" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm">
                            üìä Preencher Baseado no √öltimo Resultado
                        </button>
                        <button id="gerarJogosPos" class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-bold">
                            üéØ Gerar por Posi√ß√µes
                        </button>
                    </div>
                    
                    <div id="resultadosPos" class="mt-4 hidden">
                        <h4 class="font-bold text-orange-600 mb-2">Jogos por Posi√ß√µes:</h4>
                        <div id="listaJogosPos" class="space-y-2 max-h-60 overflow-y-auto">
                            <!-- Jogos por posi√ß√µes aparecer√£o aqui -->
                        </div>
                        <div class="mt-3 text-center">
                            <button id="adicionarTodosPos" class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg">
                                ‚ûï Adicionar Todos aos Meus Jogos
                            </button>
                        </div>
                    </div>
                </div>

                <!-- üîÑ SE√á√ÉO 4: RESULTADOS ALTERADOS -->
                <div class="secao-geracao bg-white rounded-lg shadow-lg p-6">
                    <div class="secao-titulo">üîÑ SE√á√ÉO 4: RESULTADOS ALTERADOS (Varia√ß√µes)</div>
                    <div class="mt-3 flex justify-center gap-2">
                        <a href="https://resultadosalteradosmegasena.netlify.app" target="_blank" 
                           class="inline-flex items-center bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm transition-colors">
                            üåê Resultados Alterados
                        </a>
                        <button id="modalAlteradosBtn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm">
                            ‚ùì Como Funciona
                        </button>
                    </div><br />

                    <!-- Informa√ß√£o de Pares/√çmpares -->
                    <div class="info-pares-impares">
                        <div class="text-sm font-bold text-blue-800 mb-2">üìä N√öMEROS BASE E ALTERA√á√ïES:</div>
                        <div class="text-sm text-blue-700">
                            üéØ <strong>√öltimo sorteio base:</strong> <span id="infoNumerosBase"></span><br>
                            üìà <strong>Distribui√ß√£o original:</strong> <span id="infoParesAlt">3</span> pares + <span id="infoImparesAlt">3</span> √≠mpares<br>
                            ‚ö° <strong>Estrat√©gia:</strong> Altera n√∫meros mantendo distribui√ß√£o similar
                        </div>
                    </div>

                    <div class="mb-4">
                        <label class="block text-megasena font-medium mb-2">N√∫meros Base (√∫ltimo resultado):</label>
                        <div id="numerosBaseAlterados" class="flex flex-wrap gap-1 mb-2">
                            <!-- N√∫meros do √∫ltimo resultado aparecer√£o aqui -->
                        </div>
                        <p class="text-xs text-gray-600">Os n√∫meros acima ser√£o usados como base para as altera√ß√µes</p>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-megasena font-medium mb-2">Configura√ß√µes de Altera√ß√£o:</label>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm">N√∫meros a trocar por jogo:</label>
                                <select id="numerosTrocar" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-base">
                                    <option value="1">1 n√∫mero</option>
                                    <option value="2" selected>2 n√∫meros</option>
                                    <option value="3">3 n√∫meros</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm">Quantidade de jogos:</label>
                                <select id="qtdJogosAlt" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-base">
                                    <option value="8" selected>8 jogos</option>
                                    <option value="12">12 jogos</option>
                                    <option value="15">15 jogos</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <button id="gerarJogosAlt" class="w-full bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-bold">
                        üîÑ Gerar Varia√ß√µes dos Resultados
                    </button>
                    
                    <div id="resultadosAlt" class="mt-4 hidden">
                        <h4 class="font-bold text-red-600 mb-2">Jogos Alterados:</h4>
                        <div id="listaJogosAlt" class="space-y-2 max-h-60 overflow-y-auto">
                            <!-- Jogos alterados aparecer√£o aqui -->
                        </div>
                        <div class="mt-3 text-center">
                            <button id="adicionarTodosAlt" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg">
                                ‚ûï Adicionar Todos aos Meus Jogos
                            </button>
                        </div>
                    </div>
                </div>

                <!-- ‚öñÔ∏è SE√á√ÉO 5: REGRAS FIXAS AVAN√áADAS -->
                <div class="secao-geracao bg-white rounded-lg shadow-lg p-6">
                    <div class="secao-titulo">‚öñÔ∏è SE√á√ÉO 5: REGRAS FIXAS AVAN√áADAS</div>
                    <div class="mt-3 flex justify-center gap-2">
                        <a href="https://resumomegasena-i.netlify.app/" target="_blank" 
                           class="inline-flex items-center bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm transition-colors">
                            üåê Padr√µes Identificados
                        </a>
                        <button id="modalRegrasFixasBtn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm">
                            ‚ùì Como Funciona
                        </button>
                    </div><br />

                    <!-- Informa√ß√£o de Pares/√çmpares -->
                    <div class="info-pares-impares">
                        <div class="text-sm font-bold text-blue-800 mb-2">üìä REGRAS FIXAS APLICADAS:</div>
                        <div class="text-sm text-blue-700" id="infoRegrasFixas">
                            üéØ <strong>Pares fixos:</strong> <span id="infoParesFixas">3</span> n√∫meros pares obrigat√≥rios<br>
                            üìà <strong>√çmpares fixos:</strong> <span id="infoImparesFixas">3</span> n√∫meros √≠mpares obrigat√≥rios<br>
                            ‚öñÔ∏è <strong>Faixas:</strong> <span id="infoFaixa1">3</span> n√∫meros (01-30) + <span id="infoFaixa2">3</span> n√∫meros (31-60)<br>
                            ‚úÖ <strong>Estrat√©gia:</strong> M√°ximo equil√≠brio garantido
                        </div>
                    </div>

                    <div class="mb-4">
                        <label class="block text-megasena font-medium mb-2">Configura√ß√µes Avan√ßadas:</label>
                        
                        <div class="grid grid-cols-2 gap-4 mb-3">
                            <div>
                                <label class="block text-sm">Quantidade de Pares:</label>
                                <select id="qtdPares" class="w-full px-2 py-1 border border-gray-300 rounded text-sm">
                                    <option value="2">2 pares</option>
                                    <option value="3" selected>3 pares</option>
                                    <option value="4">4 pares</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm">Quantidade de √çmpares:</label>
                                <select id="qtdImpares" class="w-full px-2 py-1 border border-gray-300 rounded text-sm">
                                    <option value="2">2 √≠mpares</option>
                                    <option value="3" selected>3 √≠mpares</option>
                                    <option value="4">4 √≠mpares</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm">N√∫meros da faixa 01-30:</label>
                                <select id="faixa1" class="w-full px-2 py-1 border border-gray-300 rounded text-sm">
                                    <option value="2">2 n√∫meros</option>
                                    <option value="3" selected>3 n√∫meros</option>
                                    <option value="4">4 n√∫meros</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm">N√∫meros da faixa 31-60:</label>
                                <select id="faixa2" class="w-full px-2 py-1 border border-gray-300 rounded text-sm">
                                    <option value="2">2 n√∫meros</option>
                                    <option value="3" selected>3 n√∫meros</option>
                                    <option value="4">4 n√∫meros</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-megasena font-medium mb-2">Estrat√©gia:</label>
                        <select id="estrategiaFix" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-base">
                            <option value="equilibrada" selected>‚öñÔ∏è M√°ximo Equil√≠brio</option>
                            <option value="conservadora">üõ°Ô∏è Conservadora</option>
                            <option value="agressiva">üöÄ Agressiva</option>
                        </select>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-megasena font-medium mb-2">Quantidade de Jogos:</label>
                        <select id="qtdJogosFix" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-base">
                            <option value="6" selected>6 jogos</option>
                            <option value="10">10 jogos</option>
                            <option value="12">12 jogos</option>
                        </select>
                    </div>
                    
                    <button id="gerarJogosFix" class="w-full bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg font-bold">
                        ‚öñÔ∏è Gerar com Regras Fixas
                    </button>
                    
                    <div id="resultadosFix" class="mt-4 hidden">
                        <h4 class="font-bold text-indigo-600 mb-2">Jogos com Regras Fixas:</h4>
                        <div id="listaJogosFix" class="space-y-2 max-h-60 overflow-y-auto">
                            <!-- Jogos com regras fixas aparecer√£o aqui -->
                        </div>
                        <div class="mt-3 text-center">
                            <button id="adicionarTodosFix" class="bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg">
                                ‚ûï Adicionar Todos aos Meus Jogos
                            </button>
                        </div>
                    </div>
                </div>
                
				<!-- üéØ SE√á√ÉO 6: FECHAMENTO INTELIGENTE -->
<div class="secao-geracao bg-white rounded-lg shadow-lg p-6">
    <div class="secao-titulo">üéØ SE√á√ÉO 6: FECHAMENTO INTELIGENTE</div>
    <div class="mt-3 flex justify-center gap-2">
        <a href="https://resumomegasena-i.netlify.app" target="_blank" 
           class="inline-flex items-center bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm transition-colors">
            üåê Estrat√©gias de Fechamento
        </a>
        <button id="modalFechamentoBtn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm">
            ‚ùì Como Funciona
        </button>
    </div><br />

    <!-- Informa√ß√£o Estrat√©gica -->
    <div class="bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-400 rounded-lg p-4 mb-4">
        <h4 class="text-lg font-bold text-yellow-800 mb-2">üèÜ ESTRAT√âGIA DE FECHAMENTO:</h4>
        <div class="text-sm text-yellow-700 mb-3">
            Escolha mais dezenas e o sistema gera combina√ß√µes inteligentes para garantir pr√™mios m√≠nimos com menor investimento.
            Baseado no √∫ltimo resultado: <span id="infoFechamentoBase" class="font-bold">20, 24, 27, 46, 50, 54</span>
        </div>
        
        <!-- Distribui√ß√£o P/I Sugerida -->
        <div class="grid grid-cols-2 gap-4">
            <div class="bg-green-100 p-3 rounded border border-green-300">
                <div class="text-sm font-bold text-green-800">üìä PARES SUGERIDOS:</div>
                <div class="text-lg font-bold text-green-900" id="paresSugeridosFech">60% (9 de 15)</div>
                <div class="text-xs text-green-600">Baseado no padr√£o hist√≥rico</div>
            </div>
            <div class="bg-purple-100 p-3 rounded border border-purple-300">
                <div class="text-sm font-bold text-purple-800">üìä √çMPARES SUGERIDOS:</div>
                <div class="text-lg font-bold text-purple-900" id="imparesSugeridosFech">40% (6 de 15)</div>
                <div class="text-xs text-purple-600">Mant√©m equil√≠brio estrat√©gico</div>
            </div>
        </div>
    </div>

    <!-- Configura√ß√£o do Fechamento -->
    <div class="mb-4">
        <label class="block text-megasena font-medium mb-3">‚öôÔ∏è Configura√ß√£o do Fechamento:</label>
        
        <div class="grid grid-cols-2 gap-4 mb-4">
            <div>
                <label class="block text-sm font-medium mb-1">üéØ Quantidade de Dezenas:</label>
                <select id="qtdDezenasFech" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-base">
                    <option value="10">10 dezenas (210 combina√ß√µes)</option>
                    <option value="12">12 dezenas (924 combina√ß√µes)</option>
                    <option value="15" selected>15 dezenas (5.005 combina√ß√µes)</option>
                    <option value="18">18 dezenas (18.564 combina√ß√µes)</option>
                    <option value="20">20 dezenas (38.760 combina√ß√µes)</option>
                </select>
            </div>
            <div>
                <label class="block text-sm font-medium mb-1">üèÜ Tipo de Garantia:</label>
                <select id="tipoGarantia" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-base">
                    <option value="quadra" selected>üéØ Garantia de Quadra (4 acertos)</option>
                    <option value="quina">üèÜ Garantia de Quina (5 acertos)</option>
                    <option value="otimizado">‚öñÔ∏è Fechamento Otimizado</option>
                    <option value="economico">üí∞ Fechamento Econ√¥mico</option>
                </select>
            </div>
        </div>

        <div class="grid grid-cols-3 gap-4 mb-4">
            <div>
                <label class="block text-sm font-medium mb-1">üü¢ Pares (sugerido):</label>
                <select id="qtdParesFech" class="w-full px-2 py-2 border border-gray-300 rounded text-sm">
                    <!-- Ser√° preenchido dinamicamente -->
                </select>
            </div>
            <div>
                <label class="block text-sm font-medium mb-1">üü£ √çmpares (sugerido):</label>
                <select id="qtdImparesFech" class="w-full px-2 py-2 border border-gray-300 rounded text-sm">
                    <!-- Ser√° preenchido dinamicamente -->
                </select>
            </div>
            <div>
                <label class="block text-sm font-medium mb-1">üéÆ Jogos a Gerar:</label>
                <select id="qtdJogosFech" class="w-full px-2 py-2 border border-gray-300 rounded text-sm">
                    <option value="15">15 jogos</option>
                    <option value="20" selected>20 jogos</option>
                    <option value="25">25 jogos</option>
                    <option value="30">30 jogos</option>
                    <option value="50">50 jogos</option>
                </select>
            </div>
        </div>
    </div>

				<!-- Sele√ß√£o de Dezenas para Fechamento -->
				<div class="mb-4">
					<label class="block text-megasena font-medium mb-2">üìã Selecione as Dezenas para o Fechamento:</label>
					<div class="bg-blue-50 border border-blue-200 rounded p-3 mb-3 text-sm text-blue-800">
						<strong>üí° Dica:</strong> Selecione <span id="dezenasNecessarias" class="font-bold">15</span> n√∫meros. 
						Atualmente: <span id="dezenasSelecionadasFech" class="font-bold">0</span> selecionadas.
						<span id="statusSelecaoFech" class="ml-2">Faltam <span class="font-bold">15</span> n√∫meros</span>
					</div>
					
					<div class="flex gap-2 mb-3">
						<button id="selecionarAutomaticoFech" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm">
							ü§ñ Sele√ß√£o Autom√°tica Inteligente
						</button>
						<button id="basearUltimoResultadoFech" class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm">
							üìä Basear no √öltimo Resultado
						</button>
						<button id="limparSelecaoFech" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm">
							üóëÔ∏è Limpar Sele√ß√£o
						</button>
					</div>
					
					<div id="gridNumerosFech" class="grid grid-cols-6 gap-2">
						<!-- N√∫meros de 01 a 60 ser√£o gerados aqui -->
					</div>
				</div>

				<!-- An√°lise do Fechamento -->
				<div class="mb-4">
					<div class="bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-400 rounded-lg p-4">
						<h4 class="text-lg font-bold text-purple-800 mb-3">üìä AN√ÅLISE DO FECHAMENTO:</h4>
						
						<div class="grid grid-cols-2 gap-4 mb-4">
							<div class="bg-white p-3 rounded border">
								<div class="text-sm font-bold text-gray-800">üí∞ Custo Estimado:</div>
								<div class="text-xl font-bold text-green-600" id="custoFechamento">R$ 0,00</div>
								<div class="text-xs text-gray-600">Para <span id="jogosGeradosFech">0</span> jogos</div>
							</div>
							<div class="bg-white p-3 rounded border">
								<div class="text-sm font-bold text-gray-800">üéØ Cobertura:</div>
								<div class="text-xl font-bold text-blue-600" id="coberturaFechamento">0%</div>
								<div class="text-xs text-gray-600">Das combina√ß√µes poss√≠veis</div>
							</div>
						</div>
						
						<div class="grid grid-cols-3 gap-4">
							<div class="bg-yellow-100 p-2 rounded text-center">
								<div class="text-sm font-bold text-yellow-800">Quadra</div>
								<div class="font-bold text-yellow-900" id="garantiaQuadra">-</div>
							</div>
							<div class="bg-orange-100 p-2 rounded text-center">
								<div class="text-sm font-bold text-orange-800">Quina</div>
								<div class="font-bold text-orange-900" id="garantiaQuina">-</div>
							</div>
							<div class="bg-red-100 p-2 rounded text-center">
								<div class="text-sm font-bold text-red-800">Sena</div>
								<div class="font-bold text-red-900" id="garantiaSena">-</div>
							</div>
						</div>
					</div>
				</div>
				
				<button id="gerarFechamento" class="w-full bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white px-4 py-2 rounded-lg font-bold text-lg disabled:opacity-50">
					üéØ Gerar Fechamento Inteligente
				</button>
				
				<div id="resultadosFech" class="mt-4 hidden">
					<h4 class="font-bold text-yellow-600 mb-2">üéØ Fechamento Gerado:</h4>
					<div class="bg-yellow-50 border border-yellow-200 rounded p-2 mb-3 text-sm">
						<strong>Resumo:</strong> <span id="resumoFechamento">20 jogos</span> | 
						<strong>Custo Total:</strong> <span id="custoTotalFech">R$ 120,00</span> | 
						<strong>Garantia:</strong> <span id="garantiaFechamento">Quadra se acertar 6</span>
					</div>
					<div id="listaJogosFech" class="space-y-2 max-h-60 overflow-y-auto">
						<!-- Jogos do fechamento aparecer√£o aqui -->
					</div>
					<div class="mt-3 flex gap-2">
						<button id="adicionarTodosFech" class="flex-1 bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg">
							‚ûï Adicionar Todos aos Meus Jogos
						</button>
						<button id="novoFechamento" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg">
							üîÑ Novo Fechamento
						</button>
					</div>
				</div>
			</div>
				
			<!--SE√á√ïES NOVAS ADICIONAR A PARTIR DAQUI..-->	
				
				
				
				
				
				
            </div>
            
            <!-- LADO DIREITO: Resumo e Controles -->
            <div class="bg-white rounded-lg shadow-lg p-6 border-2 border-megasena h-fit">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-megasena">üìã Meus Jogos</h3>
                </div>

                <!-- Custo Total -->
                <div class="mb-4">
                    <div class="custo-total text-center">
                        üí∞ Total: <span id="custoTotal">R$ 0,00</span>
                    </div>
                    <div class="text-center text-sm text-gray-600 mt-2">
                        <span id="totalJogos">0</span> jogo(s) adicionado(s)
                    </div>
                </div>

                <!-- Bot√µes de Download -->
                <div class="grid grid-cols-3 gap-2 mb-4">
                    <button id="downloadHTML" class="bg-orange-500 hover:bg-orange-600 text-white px-3 py-2 rounded-lg text-sm">
                        üåê HTML
                    </button>
                    <button id="downloadTXT" class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm">
                        üìÑ TXT
                    </button>
                    <button id="downloadXLSX" class="bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-lg text-sm">
                        üìä XLSX
                    </button>
                </div>

                <!-- Bot√£o Limpar Todos -->
                <button id="limparTodos" class="w-full bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg">
                    üóëÔ∏è Limpar Todos os Jogos
                </button>

                <!-- Lista dos Jogos -->
                <div class="mt-6">
                    <h4 class="font-bold text-gray-800 mb-4">Lista de Jogos:</h4>
                    <div id="listaJogos" class="max-h-96 overflow-y-auto">
                        <p class="text-gray-500 text-center py-8">Nenhum jogo adicionado ainda</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- MODAIS EXPLICATIVOS PARA CADA SE√á√ÉO -->
        
        <!-- Modal Se√ß√£o Manual -->
        <div id="modalManual" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg shadow-lg max-w-4xl w-full mx-4 max-h-screen overflow-y-auto">
                <div class="bg-megasena text-white p-6 rounded-t-lg">
                    <h2 class="text-2xl font-bold text-center">üéÆ SE√á√ÉO 1: CRIA√á√ÉO MANUAL DE JOGOS</h2>
                </div>
                <div class="p-6 space-y-4">
                    <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                        <h3 class="text-xl font-bold text-green-800 mb-3">‚ö™ Estrat√©gia Pares vs √çmpares:</h3>
                        <div class="space-y-2 text-green-700">
                            <p><strong>üèÜ Padr√£o mais comum:</strong> 3P/3I (747 vezes - 30.4%)</p>
                            <p><strong>üìä Outros padr√µes:</strong> 4P/2I (24.6%), 2P/4I (24.2%)</p>
                            <p><strong>üéØ Tempo real:</strong> Analisa o √∫ltimo sorteio automaticamente</p>
                            <p><strong>‚úÖ Feedback visual:</strong> Contador mostra sua distribui√ß√£o atual</p>
                        </div>
                    </div>
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                        <h3 class="text-xl font-bold text-blue-800 mb-3">üéÆ Funcionalidades:</h3>
                        <div class="space-y-2 text-blue-700">
                            <p><strong>üì± Interface intuitiva:</strong> Clique nos n√∫meros para selecionar</p>
                            <p><strong>üìù Inser√ß√£o manual:</strong> Cole n√∫meros de qualquer formato</p>
                            <p><strong>üéØ Drag & Drop:</strong> Arraste n√∫meros para a √°rea de sele√ß√£o</p>
                            <p><strong>üé≤ Gera√ß√£o aleat√≥ria:</strong> Bot√£o para criar jogos aleat√≥rios</p>
                            <p><strong>‚öôÔ∏è Configur√°vel:</strong> Escolha de 6 a 20 dezenas</p>
                        </div>
                    </div>
                    <div class="bg-purple-50 border border-purple-200 rounded-lg p-4">
                        <h3 class="text-xl font-bold text-purple-800 mb-3">üñ±Ô∏è Como usar Drag & Drop:</h3>
                        <div class="space-y-2 text-purple-700">
                            <p><strong>1.</strong> Clique e arraste n√∫meros do grid para a √°rea verde</p>
                            <p><strong>2.</strong> N√∫meros aparecem na √°rea com op√ß√£o de remo√ß√£o</p>
                            <p><strong>3.</strong> Reordene arrastando dentro da pr√≥pria √°rea</p>
                            <p><strong>4.</strong> Clique no X vermelho para remover n√∫meros</p>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-6 py-4 rounded-b-lg text-center">
                    <button class="modalClose bg-megasena hover:bg-megasena-dark text-white font-medium py-2 px-6 rounded-lg">Fechar</button>
                </div>
            </div>
        </div>

        <!-- Modal Se√ß√£o Minimalista -->
        <div id="modalMinimalista" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg shadow-lg max-w-4xl w-full mx-4 max-h-screen overflow-y-auto">
                <div class="bg-purple-500 text-white p-6 rounded-t-lg">
                    <h2 class="text-2xl font-bold text-center">üßÆ SE√á√ÉO 2: GERA√á√ÉO MINIMALISTA</h2>
                </div>
                <div class="p-6 space-y-4">
                    <div class="bg-purple-50 border border-purple-200 rounded-lg p-4">
                        <h3 class="text-xl font-bold text-purple-800 mb-3">üéØ Objetivo:</h3>
                        <div class="space-y-2 text-purple-700">
                            <p><strong>üí∞ Menos investimento:</strong> Gera poucos jogos estrat√©gicos</p>
                            <p><strong>üìä M√°xima efici√™ncia:</strong> Foca nos padr√µes mais prov√°veis</p>
                            <p><strong>‚öñÔ∏è Estrat√©gia equilibrada:</strong> Prioriza 3P/3I automaticamente</p>
                            <p><strong>üöÄ Rapidez:</strong> Gera√ß√£o autom√°tica baseada em dados hist√≥ricos</p>
                        </div>
                    </div>
                    <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                        <h3 class="text-xl font-bold text-yellow-800 mb-3">‚öôÔ∏è Configura√ß√µes:</h3>
                        <div class="space-y-2 text-yellow-700">
                            <p><strong>üéÆ Quantidade:</strong> 3 a 10 jogos configur√°veis</p>
                            <p><strong>üéØ Dezenas:</strong> 6, 7 ou 8 dezenas por jogo</p>
                            <p><strong>üìà Estrat√©gias:</strong> Equilibrada, Aleat√≥rio, Mais Pares, Mais √çmpares</p>
                            <p><strong>‚úÖ Resultado:</strong> An√°lise P/I autom√°tica de cada jogo gerado</p>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-6 py-4 rounded-b-lg text-center">
                    <button class="modalClose bg-purple-500 hover:bg-purple-600 text-white font-medium py-2 px-6 rounded-lg">Fechar</button>
                </div>
            </div>
        </div>

        <!-- Modal Se√ß√£o Posi√ß√µes -->
        <div id="modalPosicoes" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg shadow-lg max-w-4xl w-full mx-4 max-h-screen overflow-y-auto">
                <div class="bg-orange-500 text-white p-6 rounded-t-lg">
                    <h2 class="text-2xl font-bold text-center">üìç SE√á√ÉO 3: AN√ÅLISE POR POSI√á√ïES</h2>
                </div>
                <div class="p-6 space-y-4">
                    <div class="bg-orange-50 border border-orange-200 rounded-lg p-4">
                        <h3 class="text-xl font-bold text-orange-800 mb-3">üéØ Estrat√©gia por Posi√ß√µes:</h3>
                        <div class="space-y-2 text-orange-700">
                            <p><strong>üìä 1¬™ Posi√ß√£o:</strong> N√∫meros menores (geralmente 01-15)</p>
                            <p><strong>üìà 2¬™-5¬™ Posi√ß√µes:</strong> Distribui√ß√£o gradual crescente</p>
                            <p><strong>üìç 6¬™ Posi√ß√£o:</strong> N√∫meros maiores (geralmente 45-60)</p>
                            <p><strong>üîÑ Auto-preenchimento:</strong> Baseado no √∫ltimo sorteio real</p>
                        </div>
                    </div>
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                        <h3 class="text-xl font-bold text-blue-800 mb-3">‚öôÔ∏è Como Funciona:</h3>
                        <div class="space-y-2 text-blue-700">
                            <p><strong>üì• Preenchimento autom√°tico:</strong> Clique em "Preencher Baseado no √öltimo Resultado"</p>
                            <p><strong>‚úèÔ∏è Edi√ß√£o manual:</strong> Customize cada posi√ß√£o conforme sua estrat√©gia</p>
                            <p><strong>üé≤ Gera√ß√£o inteligente:</strong> Cada jogo pega um n√∫mero de cada posi√ß√£o</p>
                            <p><strong>üìä An√°lise P/I:</strong> Mant√©m distribui√ß√£o equilibrada automaticamente</p>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-6 py-4 rounded-b-lg text-center">
                    <button class="modalClose bg-orange-500 hover:bg-orange-600 text-white font-medium py-2 px-6 rounded-lg">Fechar</button>
                </div>
            </div>
        </div>

        <!-- Modal Se√ß√£o Alterados -->
        <div id="modalAlterados" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg shadow-lg max-w-4xl w-full mx-4 max-h-screen overflow-y-auto">
                <div class="bg-red-500 text-white p-6 rounded-t-lg">
                    <h2 class="text-2xl font-bold text-center">üîÑ SE√á√ÉO 4: RESULTADOS ALTERADOS</h2>
                </div>
                <div class="p-6 space-y-4">
                    <div class="bg-red-50 border border-red-200 rounded-lg p-4">
                        <h3 class="text-xl font-bold text-red-800 mb-3">üéØ Estrat√©gia de Varia√ß√µes:</h3>
                        <div class="space-y-2 text-red-700">
                            <p><strong>üìä Base real:</strong> Usa o √∫ltimo sorteio como ponto de partida</p>
                            <p><strong>üîÑ Altera√ß√µes controladas:</strong> Troca 1, 2 ou 3 n√∫meros por jogo</p>
                            <p><strong>‚öñÔ∏è Mant√©m padr√£o P/I:</strong> Preserva distribui√ß√£o original</p>
                            <p><strong>üé≤ Varia√ß√µes inteligentes:</strong> N√∫meros alterados de forma estrat√©gica</p>
                        </div>
                    </div>
                    <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                        <h3 class="text-xl font-bold text-yellow-800 mb-3">üìà Vantagens:</h3>
                        <div class="space-y-2 text-yellow-700">
                            <p><strong>üéØ Base comprovada:</strong> √öltimo resultado como refer√™ncia</p>
                            <p><strong>üîÑ M√∫ltiplas varia√ß√µes:</strong> 8, 12 ou 15 jogos diferentes</p>
                            <p><strong>‚ö° Rapidez:</strong> Gera√ß√£o autom√°tica e instant√¢nea</p>
                            <p><strong>üìä An√°lise inclu√≠da:</strong> Mostra P/I de cada varia√ß√£o</p>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-6 py-4 rounded-b-lg text-center">
                    <button class="modalClose bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-6 rounded-lg">Fechar</button>
                </div>
            </div>
        </div>

        <!-- Modal Se√ß√£o Regras Fixas -->
        <div id="modalRegrasFixas" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg shadow-lg max-w-4xl w-full mx-4 max-h-screen overflow-y-auto">
                <div class="bg-indigo-500 text-white p-6 rounded-t-lg">
                    <h2 class="text-2xl font-bold text-center">‚öñÔ∏è SE√á√ÉO 5: REGRAS FIXAS AVAN√áADAS</h2>
                </div>
                <div class="p-6 space-y-4">
                    <div class="bg-indigo-50 border border-indigo-200 rounded-lg p-4">
                        <h3 class="text-xl font-bold text-indigo-800 mb-3">‚öñÔ∏è Regras Obrigat√≥rias:</h3>
                        <div class="space-y-2 text-indigo-700">
                            <p><strong>üü¢ Pares fixos:</strong> 2, 3 ou 4 n√∫meros pares obrigat√≥rios</p>
                            <p><strong>üü£ √çmpares fixos:</strong> 2, 3 ou 4 n√∫meros √≠mpares obrigat√≥rios</p>
                            <p><strong>üìä Faixa baixa (01-30):</strong> 2, 3 ou 4 n√∫meros obrigat√≥rios</p>
                            <p><strong>üìà Faixa alta (31-60):</strong> 2, 3 ou 4 n√∫meros obrigat√≥rios</p>
                        </div>
                    </div>
                    <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                        <h3 class="text-xl font-bold text-green-800 mb-3">üéØ Exemplo Pr√°tico (3P/3I + 3Baixos/3Altos):</h3>
                        <div class="space-y-2 text-green-700">
                            <p><strong>‚úÖ Jogo 1:</strong> 08, 15, 23, 34, 41, 52</p>
                            <p style="margin-left: 20px;">Pares: 08, 34, 52 | √çmpares: 15, 23, 41</p>
                            <p style="margin-left: 20px;">Baixos: 08, 15, 23 | Altos: 34, 41, 52</p>
                            <p><strong>‚úÖ Jogo 2:</strong> 12, 07, 29, 36, 43, 58</p>
                            <p style="margin-left: 20px;">Pares: 12, 36, 58 | √çmpares: 07, 29, 43</p>
                            <p style="margin-left: 20px;">Baixos: 12, 07, 29 | Altos: 36, 43, 58</p>
                        </div>
                    </div>
                    <div class="bg-purple-50 border border-purple-200 rounded-lg p-4">
                        <h3 class="text-xl font-bold text-purple-800 mb-3">üöÄ Estrat√©gias Dispon√≠veis:</h3>
                        <div class="space-y-2 text-purple-700">
                            <p><strong>‚öñÔ∏è M√°ximo Equil√≠brio:</strong> Distribui uniformemente</p>
                            <p><strong>üõ°Ô∏è Conservadora:</strong> Foca em n√∫meros mais frequentes</p>
                            <p><strong>üöÄ Agressiva:</strong> Inclui n√∫meros menos comuns</p>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-6 py-4 rounded-b-lg text-center">
                    <button class="modalClose bg-indigo-500 hover:bg-indigo-600 text-white font-medium py-2 px-6 rounded-lg">Fechar</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        // üéØ DADOS DE EXEMPLO PARA FUNCIONAR IMEDIATAMENTE
        const DADOS_EXEMPLO = {
            ultimoResultado: {
                numero: 2903,
                dataApuracao: "20/01/2025",
                dataProximoConcurso: "23/01/2025",
                listaDezenas: ["27", "20", "46", "50", "54", "24"],
                dezenasSorteadasOrdemSorteio: ["27", "20", "46", "50", "54", "24"],
                acumulado: true,
                valorEstimadoProximoConcurso: 65000000.00,
                listaRateioPremio: [
                    { descricaoFaixa: "5 acertos", numeroDeGanhadores: 42, valorPremio: 68250.85 },
                    { descricaoFaixa: "4 acertos", numeroDeGanhadores: 3894, valorPremio: 1425.33 }
                ]
            }
        };

        // Vari√°veis globais
        let ultimoResultado = null;
        let jogosAdicionados = [];
        let numerosSelecionados = [];
        let numerosSorteados = new Set();
        let quantidadeSelecionada = 6;
        let numerosDropArea = [];
        let valorApostaSimples = 6.00;

        // Dados de pares e √≠mpares do √∫ltimo sorteio
        let paresUltimoSorteio = 3;
        let imparesUltimoSorteio = 3;

        // Vari√°veis para drag and drop
        let draggedElement = null;
        let isDragging = false;

        // Sistema de Valores da Mega Sena - Unificado
        const sistemaValores = {
            multiplicadores: {
                6: 1, 7: 7, 8: 28, 9: 84, 10: 210,
                11: 462, 12: 924, 13: 1716, 14: 3003, 15: 5005,
                16: 8008, 17: 12376, 18: 18564, 19: 27132, 20: 38760
            },
            
            obterValor: function(quantidade) {
                const multiplicador = this.multiplicadores[quantidade] || 1;
                return valorApostaSimples * multiplicador;
            },
            
            atualizarTodosValores: function() {
                this.atualizarSelectQuantidade();
                this.atualizarStatus();
            },
            
            atualizarSelectQuantidade: function() {
                const select = document.getElementById('quantidadeDezenas');
                if (!select) return;
                
                select.innerHTML = '';
                for (let i = 6; i <= 20; i++) {
                    const option = document.createElement('option');
                    option.value = i;
                    option.textContent = `${i} dezenas - ${formatarMoeda(this.obterValor(i))}`;
                    select.appendChild(option);
                }
            },
            
            atualizarStatus: function() {
                const now = new Date();
                document.getElementById('statusSistema').textContent = '‚úÖ Sistema atualizado';
                document.getElementById('ultimaAtualizacao').textContent = now.toLocaleTimeString('pt-BR');
                
                document.getElementById('mult7').textContent = `${this.multiplicadores[7]}x`;
                document.getElementById('valor7').textContent = formatarMoeda(this.obterValor(7));
                document.getElementById('mult8').textContent = `${this.multiplicadores[8]}x`;
                document.getElementById('valor8').textContent = formatarMoeda(this.obterValor(8));
                document.getElementById('mult15').textContent = `${this.multiplicadores[15]}x`;
                document.getElementById('valor15').textContent = formatarMoeda(this.obterValor(15));
            }
        };

        // ===== FUN√á√ïES DRAG AND DROP =====
        
        function allowDrop(ev) {
            ev.preventDefault();
            const dropZone = document.getElementById('dropZone');
            dropZone.classList.add('drag-over');
        }

        function dragEnter(ev) {
            ev.preventDefault();
            const dropZone = document.getElementById('dropZone');
            dropZone.classList.add('drag-over');
        }

        function dragLeave(ev) {
            ev.preventDefault();
            const dropZone = document.getElementById('dropZone');
            if (!dropZone.contains(ev.relatedTarget)) {
                dropZone.classList.remove('drag-over');
            }
        }

        function drop(ev) {
            ev.preventDefault();
            const dropZone = document.getElementById('dropZone');
            dropZone.classList.remove('drag-over');
            
            if (draggedElement && draggedElement.dataset.numero) {
                const numero = parseInt(draggedElement.dataset.numero);
                const maxSelecionados = parseInt(document.getElementById('quantidadeDezenas').value);
                
                if (!numerosSelecionados.includes(numero) && numerosSelecionados.length < maxSelecionados) {
                    numerosSelecionados.push(numero);
                    numerosDropArea.push(numero);
                    draggedElement.classList.add('selecionado');
                    atualizarVisualizacaoDropArea();
                    atualizarContadorParesImpares();
                    validarBotaoAdicionar();
                }
            }
            
            draggedElement = null;
        }

        function dragStart(ev, numero) {
            draggedElement = ev.target;
            draggedElement.classList.add('dragging');
            isDragging = true;
        }

        function dragEnd(ev) {
            if (draggedElement) {
                draggedElement.classList.remove('dragging');
                draggedElement = null;
            }
            isDragging = false;
        }

        // Inicializa√ß√£o da aplica√ß√£o com loading progressivo
        document.addEventListener('DOMContentLoaded', async () => {
            iniciarCarregamento();
        });

        async function iniciarCarregamento() {
            try {
                // 1. Atualizar progresso - Sistema de valores
                atualizarProgresso(20, 'Configurando sistema de valores...');
                sistemaValores.atualizarTodosValores();
                await aguardar(500);

                // 2. Atualizar progresso - Tentativa de carregar API
                atualizarProgresso(40, 'Tentando conectar com API da Caixa...');
                let dadosCarregados = false;
                
                try {
                    await Promise.race([
                        carregarUltimoResultado(),
                        new Promise((_, reject) => setTimeout(() => reject(new Error('Timeout')), 1500))
                    ]);
                    dadosCarregados = true;
                } catch (error) {
                    console.log('‚ö†Ô∏è API indispon√≠vel:', error.message);
                }

                // 3. Usar dados de exemplo se API falhou
                if (!dadosCarregados) {
                    atualizarProgresso(60, 'API indispon√≠vel, usando dados de exemplo...');
                    await aguardar(500);
                    usarDadosExemplo();
                }

                // 4. Finalizar carregamento
                atualizarProgresso(80, 'Inicializando interface...');
                await aguardar(500);
                inicializarInterfaceCompleta();
                configurarEventListenersCompletos();

                atualizarProgresso(100, 'Sistema pronto!');
                await aguardar(300);
                finalizarCarregamento();

            } catch (error) {
                console.error('Erro no carregamento:', error);
                atualizarProgresso(100, 'Erro no carregamento, usando dados de exemplo...');
                await aguardar(500);
                usarDadosExemplo();
                inicializarInterfaceCompleta();
                configurarEventListenersCompletos();
                finalizarCarregamento();
            }
        }

        function atualizarProgresso(porcentagem, texto) {
            document.getElementById('progressBar').style.width = `${porcentagem}%`;
            document.getElementById('loadingDetails').textContent = texto;
        }

        function aguardar(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        async function carregarUltimoResultado() {
            const response = await fetch('https://servicebus2.caixa.gov.br/portaldeloterias/api/megasena', {
                headers: { 'Accept': 'application/json' }
            });
            
            if (!response.ok) {
                throw new Error(`HTTP ${response.status}`);
            }
            
            const data = await response.json();
            if (!data || !data.numero || data.numero <= 0) {
                throw new Error('Dados inv√°lidos da API');
            }
            
            ultimoResultado = data;
            exibirUltimoResultado(data);
            return data;
        }

        function usarDadosExemplo() {
            ultimoResultado = DADOS_EXEMPLO.ultimoResultado;
            exibirUltimoResultado(ultimoResultado);
        }

        function finalizarCarregamento() {
            document.getElementById('loading').classList.add('hidden');
            document.getElementById('ultimoResultado').classList.remove('hidden');
            document.getElementById('interfacePrincipal').classList.remove('hidden');
        }

        function exibirUltimoResultado(data) {
            const numeros = data.listaDezenas || data.dezenasSorteadasOrdemSorteio || [];
            
            document.getElementById('tituloResultado').textContent = `Concurso ${data.numero}`;
            document.getElementById('dataResultado').textContent = `üìÖ ${data.dataApuracao}`;

            const numerosDiv = document.getElementById('numerosResultado');
            numerosDiv.innerHTML = '';
            numeros.forEach(num => {
                const numeroEl = document.createElement('div');
                numeroEl.className = 'numero-resultado';
                numeroEl.textContent = num;
                numerosDiv.appendChild(numeroEl);
            });

            document.getElementById('statusResultado').textContent = data.acumulado ? 'ACUMULOU!' : 'TEVE GANHADOR!';

            if (data.listaRateioPremio && data.listaRateioPremio.length >= 2) {
                document.getElementById('premiacao5').innerHTML = `
                    <span class="text-megasena mr-2">üèÜ</span>
                    <span>5 acertos: ${data.listaRateioPremio[0].numeroDeGanhadores} apostas - ${formatarMoeda(data.listaRateioPremio[0].valorPremio)}</span>
                `;
                document.getElementById('premiacao4').innerHTML = `
                    <span class="text-megasena mr-2">üèÜ</span>
                    <span>4 acertos: ${data.listaRateioPremio[1].numeroDeGanhadores} apostas - ${formatarMoeda(data.listaRateioPremio[1].valorPremio)}</span>
                `;
            }

            document.getElementById('proximoConcurso').textContent = `Concurso ${data.numero + 1}`;
            document.getElementById('dataProximoConcurso').textContent = data.dataProximoConcurso || 'A definir';
            document.getElementById('premioEstimado').textContent = `Pr√™mio Estimado: ${formatarMoeda(data.valorEstimadoProximoConcurso || 65000000)}`;

            // Analisar pares e √≠mpares do √∫ltimo sorteio
            analisarParesImparesUltimoSorteio(numeros);
            identificarNumerosSorteados(numeros);
            atualizarTodasInformacoesPareImpares();
        }

        function analisarParesImparesUltimoSorteio(numeros) {
            let pares = 0;
            let impares = 0;
            
            numeros.forEach(num => {
                const numero = parseInt(num);
                if (numero % 2 === 0) {
                    pares++;
                } else {
                    impares++;
                }
            });
            
            paresUltimoSorteio = pares;
            imparesUltimoSorteio = impares;
            
            // Atualizar interface da se√ß√£o manual
            document.getElementById('paresUltimoSorteio').textContent = pares;
            document.getElementById('imparesUltimoSorteio').textContent = impares;
            document.getElementById('metaPares').textContent = pares;
            document.getElementById('metaImpares').textContent = impares;
        }

        function atualizarTodasInformacoesPareImpares() {
            if (!ultimoResultado) return;
            
            const numeros = ultimoResultado.listaDezenas || [];
            const numerosTexto = numeros.join(', ');
            
            // Se√ß√£o Minimalista
            document.getElementById('infoParesMin').textContent = paresUltimoSorteio;
            document.getElementById('infoImparesMin').textContent = imparesUltimoSorteio;
            
            // Se√ß√£o Posi√ß√µes
            document.getElementById('infoNumerosPosicoes').textContent = numerosTexto;
            document.getElementById('infoParesPos').textContent = paresUltimoSorteio;
            document.getElementById('infoImparesPos').textContent = imparesUltimoSorteio;
            
            // Se√ß√£o Alterados
            document.getElementById('infoNumerosBase').textContent = numerosTexto;
            document.getElementById('infoParesAlt').textContent = paresUltimoSorteio;
            document.getElementById('infoImparesAlt').textContent = imparesUltimoSorteio;
            
            // Se√ß√£o Regras Fixas
            atualizarInfoRegrasFixas();
        }

        function atualizarInfoRegrasFixas() {
            const qtdPares = document.getElementById('qtdPares')?.value || 3;
            const qtdImpares = document.getElementById('qtdImpares')?.value || 3;
            const faixa1 = document.getElementById('faixa1')?.value || 3;
            const faixa2 = document.getElementById('faixa2')?.value || 3;
            
            document.getElementById('infoParesFixas').textContent = qtdPares;
            document.getElementById('infoImparesFixas').textContent = qtdImpares;
            document.getElementById('infoFaixa1').textContent = faixa1;
            document.getElementById('infoFaixa2').textContent = faixa2;
        }

        function identificarNumerosSorteados(numeros) {
            numerosSorteados.clear();
            numeros.forEach(num => {
                numerosSorteados.add(parseInt(num));
            });
        }

        function inicializarInterface() {
            numerosSelecionados = [];
            numerosDropArea = [];
            criarGridNumeros();
            atualizarVisualizacaoDropArea();
        }

        function criarGridNumeros() {
            const grid = document.getElementById('gridNumeros');
            grid.innerHTML = '';
            
            for (let i = 1; i <= 60; i++) {
                const btn = document.createElement('button');
                btn.className = 'numero-mega draggable';
                btn.setAttribute('draggable', 'true');
                btn.dataset.numero = i;
                
                if (i % 2 === 0) {
                    btn.classList.add('par');
                } else {
                    btn.classList.add('impar');
                }
                
                btn.textContent = i.toString().padStart(2, '0');
                btn.onclick = () => toggleNumero(i);
                
                // Eventos de drag and drop
                btn.ondragstart = (ev) => dragStart(ev, i);
                btn.ondragend = dragEnd;
                
                grid.appendChild(btn);
            }
        }

        function toggleNumero(numero) {
            const btn = document.querySelector(`.numero-mega[data-numero="${numero}"]`);
            const maxSelecionados = parseInt(document.getElementById('quantidadeDezenas').value);
            
            if (numerosSelecionados.includes(numero)) {
                numerosSelecionados = numerosSelecionados.filter(n => n !== numero);
                numerosDropArea = numerosDropArea.filter(n => n !== numero);
                btn.classList.remove('selecionado');
            } else if (numerosSelecionados.length < maxSelecionados) {
                numerosSelecionados.push(numero);
                numerosDropArea.push(numero);
                btn.classList.add('selecionado');
            }
            
            atualizarVisualizacaoDropArea();
            atualizarContadorParesImpares();
            validarBotaoAdicionar();
        }

        function atualizarContadorParesImpares() {
            const paresAtuais = numerosSelecionados.filter(num => num % 2 === 0).length;
            const imparesAtuais = numerosSelecionados.filter(num => num % 2 !== 0).length;
            const metaPares = paresUltimoSorteio;
            const metaImpares = imparesUltimoSorteio;
            
            document.getElementById('paresAtuais').textContent = paresAtuais;
            document.getElementById('imparesAtuais').textContent = imparesAtuais;
            
            // Aplicar anima√ß√£o de destaque
            document.getElementById('paresAtuais').classList.add('contador-destaque');
            document.getElementById('imparesAtuais').classList.add('contador-destaque');
            
            setTimeout(() => {
                document.getElementById('paresAtuais').classList.remove('contador-destaque');
                document.getElementById('imparesAtuais').classList.remove('contador-destaque');
            }, 500);
            
            // Avaliar estrat√©gia e mostrar status
            const totalSelecionados = numerosSelecionados.length;
            const statusEl = document.getElementById('statusEstrategia');
            const dicaEl = document.getElementById('dicaEstrategia');
            
            if (totalSelecionados === 0) {
                statusEl.textContent = 'üéØ Selecione n√∫meros para ver sua estrat√©gia';
                statusEl.className = 'text-center p-3 rounded-lg font-bold text-lg bg-gray-100 text-gray-700';
                dicaEl.innerHTML = 'üí° <strong>Dica:</strong> O padr√£o 3P/3I √© o mais comum com 30.4% dos sorteios!';
            } else {
                const diferencaPares = Math.abs(paresAtuais - metaPares);
                const diferencaImpares = Math.abs(imparesAtuais - metaImpares);
                
                const maxEsperado = parseInt(document.getElementById('quantidadeDezenas').value);
                
                if (totalSelecionados < maxEsperado) {
                    const paresRestantes = Math.max(0, metaPares - paresAtuais);
                    const imparesRestantes = Math.max(0, metaImpares - imparesAtuais);
                    
                    if (paresRestantes > 0 && imparesRestantes > 0) {
                        statusEl.textContent = `üìç Faltam: ${paresRestantes} pares, ${imparesRestantes} √≠mpares`;
                        statusEl.className = 'text-center p-3 rounded-lg font-bold text-lg bg-blue-100 text-blue-800';
                        dicaEl.innerHTML = `üí° <strong>Continue:</strong> Selecione mais ${paresRestantes} pares e ${imparesRestantes} √≠mpares para seguir a estrat√©gia`;
                    } else if (paresRestantes > 0) {
                        statusEl.textContent = `üìç Faltam: ${paresRestantes} pares`;
                        statusEl.className = 'text-center p-3 rounded-lg font-bold text-lg bg-green-100 text-green-800';
                        dicaEl.innerHTML = `üí° <strong>Quase l√°:</strong> Selecione mais ${paresRestantes} n√∫meros pares`;
                    } else if (imparesRestantes > 0) {
                        statusEl.textContent = `üìç Faltam: ${imparesRestantes} √≠mpares`;
                        statusEl.className = 'text-center p-3 rounded-lg font-bold text-lg bg-purple-100 text-purple-800';
                        dicaEl.innerHTML = `üí° <strong>Quase l√°:</strong> Selecione mais ${imparesRestantes} n√∫meros √≠mpares`;
                    } else {
                        statusEl.textContent = '‚úÖ Estrat√©gia completa! Continue selecionando...';
                        statusEl.className = 'text-center p-3 rounded-lg font-bold text-lg bg-yellow-100 text-yellow-800';
                        dicaEl.innerHTML = `üí° <strong>Perfeito:</strong> Voc√™ j√° tem a distribui√ß√£o ideal de pares/√≠mpares!`;
                    }
                } else {
                    // Jogo completo - avaliar resultado final
                    if (diferencaPares === 0 && diferencaImpares === 0) {
                        statusEl.textContent = 'üéØ ESTRAT√âGIA PERFEITA! Distribui√ß√£o id√™ntica ao √∫ltimo sorteio';
                        statusEl.className = 'text-center p-3 rounded-lg font-bold text-lg bg-green-200 text-green-800 meta-atingida';
                        dicaEl.innerHTML = `üèÜ <strong>Excelente:</strong> Sua distribui√ß√£o √© id√™ntica ao √∫ltimo sorteio!`;
                    } else if (diferencaPares <= 1 && diferencaImpares <= 1) {
                        statusEl.textContent = '‚úÖ Estrat√©gia muito boa! Distribui√ß√£o similar';
                        statusEl.className = 'text-center p-3 rounded-lg font-bold text-lg bg-green-100 text-green-800';
                        dicaEl.innerHTML = `üëç <strong>√ìtimo:</strong> Sua distribui√ß√£o est√° bem pr√≥xima da estat√≠stica`;
                    } else {
                        statusEl.textContent = '‚ö†Ô∏è Estrat√©gia diferente da estat√≠stica';
                        statusEl.className = 'text-center p-3 rounded-lg font-bold text-lg bg-red-100 text-red-800 meta-excedida';
                        dicaEl.innerHTML = `‚ö° <strong>Aten√ß√£o:</strong> Voc√™ est√° divergindo da estrat√©gia estat√≠stica`;
                    }
                }
            }
        }

        function atualizarVisualizacaoDropArea() {
            const dropZone = document.getElementById('dropZone');
            const dropMessage = document.getElementById('dropMessage');
            const numerosDropped = document.getElementById('numerosDropped');
            const numerosNaArea = document.getElementById('numerosNaArea');
            const quantidadeEspecificada = document.getElementById('quantidadeEspecificada');
            
            if (!dropZone || !numerosNaArea || !quantidadeEspecificada) return;
            
            if (!Array.isArray(numerosDropArea)) {
                numerosDropArea = [];
            }
            
            const quantidadeSelect = document.getElementById('quantidadeDezenas');
            const quantidadeAtual = quantidadeSelect ? parseInt(quantidadeSelect.value) || 6 : 6;
            
            quantidadeEspecificada.textContent = quantidadeAtual.toString();
            numerosNaArea.textContent = numerosDropArea.length.toString();
            
            if (numerosDropArea.length === 0) {
                dropZone.classList.remove('has-numbers');
                if (dropMessage) dropMessage.classList.remove('hidden');
                if (numerosDropped) numerosDropped.classList.add('hidden');
            } else {
                dropZone.classList.add('has-numbers');
                if (dropMessage) dropMessage.classList.add('hidden');
                if (numerosDropped) {
                    numerosDropped.classList.remove('hidden');
                    
                    numerosDropped.innerHTML = numerosDropArea
                        .filter(numero => numero && typeof numero === 'number')
                        .sort((a, b) => a - b)
                        .map(numero => `
                            <div class="numero-drop" draggable="true" 
                                 ondragstart="dragStartFromArea(event, ${numero})" 
                                 ondragend="dragEnd(event)">
                                ${numero.toString().padStart(2, '0')}
                                <div class="remove-btn" onclick="removerNumeroDropArea(${numero})">√ó</div>
                            </div>
                        `).join('');
                }
            }
        }

        function dragStartFromArea(ev, numero) {
            draggedElement = ev.target;
            draggedElement.classList.add('dragging');
            draggedElement.dataset.numero = numero;
            isDragging = true;
        }

        function removerNumeroDropArea(numero) {
            numerosDropArea = numerosDropArea.filter(n => n !== numero);
            numerosSelecionados = numerosSelecionados.filter(n => n !== numero);
            
            const btn = document.querySelector(`.numero-mega[data-numero="${numero}"]`);
            if (btn) btn.classList.remove('selecionado');
            
            atualizarVisualizacaoDropArea();
            atualizarContadorParesImpares();
            validarBotaoAdicionar();
        }

        function validarBotaoAdicionar() {
            const btn = document.getElementById('adicionarJogo');
            const quantidadeNecessaria = parseInt(document.getElementById('quantidadeDezenas').value);
            btn.disabled = numerosSelecionados.length !== quantidadeNecessaria;
        }

        // ===== FUN√á√ÉO DE INSER√á√ÉO MANUAL =====
        function processarInputManual() {
            const input = document.getElementById('inputManual');
            const texto = input.value.trim();
            
            if (!texto) {
                showCustomAlert('‚ö†Ô∏è Campo Vazio', 'Digite alguns n√∫meros primeiro!');
                return;
            }
            
            // Extrair n√∫meros do texto usando regex
            const numerosEncontrados = texto.match(/\d+/g);
            
            if (!numerosEncontrados) {
                showCustomAlert('‚ö†Ô∏è N√∫meros N√£o Encontrados', 'N√£o foi poss√≠vel encontrar n√∫meros v√°lidos no texto!');
                return;
            }
            
            // Converter para n√∫meros e filtrar v√°lidos (1-60)
            const numerosValidos = numerosEncontrados
                .map(n => parseInt(n))
                .filter(n => n >= 1 && n <= 60)
                .filter((n, index, arr) => arr.indexOf(n) === index); // Remover duplicados
            
            if (numerosValidos.length === 0) {
                showCustomAlert('‚ö†Ô∏è N√∫meros Inv√°lidos', 'N√£o foram encontrados n√∫meros v√°lidos entre 01 e 60!');
                return;
            }
            
            const maxSelecionados = parseInt(document.getElementById('quantidadeDezenas').value);
            
            if (numerosValidos.length > maxSelecionados) {
                showCustomAlert('‚ö†Ô∏è Muitos N√∫meros', `Encontrados ${numerosValidos.length} n√∫meros, mas o m√°ximo permitido √© ${maxSelecionados}. Os primeiros ${maxSelecionados} ser√£o usados.`);
            }
            
            // Limpar sele√ß√£o atual
            limparSelecao();
            
            // Selecionar os n√∫meros encontrados (limitado ao m√°ximo)
            const numerosParaSelecionar = numerosValidos.slice(0, maxSelecionados);
            
            numerosParaSelecionar.forEach(numero => {
                numerosSelecionados.push(numero);
                numerosDropArea.push(numero);
                
                const btn = document.querySelector(`.numero-mega[data-numero="${numero}"]`);
                if (btn) btn.classList.add('selecionado');
            });
            
            atualizarVisualizacaoDropArea();
            atualizarContadorParesImpares();
            validarBotaoAdicionar();
            
            // Limpar campo de entrada
            input.value = '';
            
            showCustomAlert('‚úÖ N√∫meros Processados', `${numerosParaSelecionar.length} n√∫meros foram selecionados com sucesso!`);
        }

        function configurarEventListeners() {
            // Bot√£o atualizar valores
            document.getElementById('btnAtualizarValores').onclick = () => {
                const input = document.getElementById('valorApostaSimples');
                const novoValor = parseFloat(input.value);
                if (novoValor > 0) {
                    valorApostaSimples = novoValor;
                    sistemaValores.atualizarTodosValores();
                    showCustomAlert('‚úÖ Atualizado', `Valor da aposta atualizado para ${formatarMoeda(novoValor)}!`);
                }
            };

            // Bot√µes principais
            document.getElementById('limparJogo').onclick = limparSelecao;
            document.getElementById('randomizarJogo').onclick = randomizarJogo;
            document.getElementById('adicionarJogo').onclick = adicionarJogo;
            document.getElementById('processarInput').onclick = processarInputManual;
            document.getElementById('limparArea').onclick = () => {
                numerosDropArea = [];
                numerosSelecionados = [];
                document.querySelectorAll('.numero-mega').forEach(btn => {
                    btn.classList.remove('selecionado');
                });
                atualizarVisualizacaoDropArea();
                atualizarContadorParesImpares();
                validarBotaoAdicionar();
            };

            // Bot√µes de download
            document.getElementById('downloadTXT').onclick = downloadTXT;
            document.getElementById('downloadHTML').onclick = downloadHTML;
            document.getElementById('downloadXLSX').onclick = downloadXLSX;
            document.getElementById('limparTodos').onclick = limparTodosJogos;

            // Change events
            document.getElementById('quantidadeDezenas').onchange = () => {
                quantidadeSelecionada = parseInt(document.getElementById('quantidadeDezenas').value);
                limparSelecao();
            };

            // Event listeners para regras fixas - atualizar info
            ['qtdPares', 'qtdImpares', 'faixa1', 'faixa2'].forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.onchange = atualizarInfoRegrasFixas;
                }
            });
        }

        function limparSelecao() {
            numerosSelecionados = [];
            numerosDropArea = [];
            document.querySelectorAll('.numero-mega').forEach(btn => {
                btn.classList.remove('selecionado');
            });
            atualizarVisualizacaoDropArea();
            atualizarContadorParesImpares();
            validarBotaoAdicionar();
        }

        function randomizarJogo() {
            limparSelecao();
            
            const quantidade = parseInt(document.getElementById('quantidadeDezenas').value);
            const numerosDisponiveis = [];
            
            for (let i = 1; i <= 60; i++) {
                numerosDisponiveis.push(i);
            }
            
            for (let i = 0; i < quantidade; i++) {
                const index = Math.floor(Math.random() * numerosDisponiveis.length);
                const numero = numerosDisponiveis.splice(index, 1)[0];
                
                numerosSelecionados.push(numero);
                numerosDropArea.push(numero);
                
                const btn = document.querySelector(`.numero-mega[data-numero="${numero}"]`);
                if (btn) btn.classList.add('selecionado');
            }
            
            atualizarVisualizacaoDropArea();
            atualizarContadorParesImpares();
            validarBotaoAdicionar();
        }

        function adicionarJogo() {
            const quantidade = numerosSelecionados.length;
            const quantidadeEsperada = parseInt(document.getElementById('quantidadeDezenas').value);
            
            if (quantidade !== quantidadeEsperada) {
                showCustomAlert('‚ö†Ô∏è Quantidade Incorreta', `Selecione exatamente ${quantidadeEsperada} n√∫meros!`);
                return;
            }
            
            const jogo = {
                id: Date.now(),
                numeros: [...numerosSelecionados].sort((a, b) => a - b),
                quantidade: quantidade,
                custo: sistemaValores.obterValor(quantidade),
                pares: numerosSelecionados.filter(n => n % 2 === 0).length,
                impares: numerosSelecionados.filter(n => n % 2 !== 0).length,
                origem: 'Manual'
            };
            
            jogosAdicionados.push(jogo);
            atualizarVisualizacaoJogos();
            atualizarCustoTotal();
            limparSelecao();
            
            showCustomAlert('‚úÖ Jogo Adicionado', `Jogo com ${quantidade} dezenas adicionado com sucesso!`);
        }

        function atualizarVisualizacaoJogos() {
            const listaJogos = document.getElementById('listaJogos');
            
            if (jogosAdicionados.length === 0) {
                listaJogos.innerHTML = '<p class="text-gray-500 text-center py-8">Nenhum jogo adicionado ainda</p>';
                return;
            }
            
            listaJogos.innerHTML = '';
            
            jogosAdicionados.forEach((jogo, index) => {
                const jogoDiv = document.createElement('div');
                jogoDiv.className = 'jogo-card';
                
                jogoDiv.innerHTML = `
                    <div class="flex justify-between items-center mb-3">
                        <span class="font-bold text-megasena">Jogo ${index + 1}</span>
                        <div class="flex gap-2 items-center">
                            <span class="px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded">${jogo.origem}</span>
                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded">${jogo.pares}P</span>
                            <span class="px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded">${jogo.impares}I</span>
                            <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded">${formatarMoeda(jogo.custo)}</span>
                            <button onclick="removerJogo(${jogo.id})" class="bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded text-xs">
                                üóëÔ∏è
                            </button>
                        </div>
                    </div>
                    <div class="flex flex-wrap gap-1 mb-2">
                        ${jogo.numeros.map(num => `<span class="numero-jogo">${num.toString().padStart(2, '0')}</span>`).join('')}
                    </div>
                    <div class="text-xs text-gray-600">
                        ${jogo.quantidade} dezenas | ${jogo.pares}P/${jogo.impares}I
                    </div>
                `;
                
                listaJogos.appendChild(jogoDiv);
            });
        }

        function removerJogo(id) {
            jogosAdicionados = jogosAdicionados.filter(jogo => jogo.id !== id);
            atualizarVisualizacaoJogos();
            atualizarCustoTotal();
        }

        function atualizarCustoTotal() {
            const total = jogosAdicionados.reduce((sum, jogo) => sum + jogo.custo, 0);
            document.getElementById('custoTotal').textContent = formatarMoeda(total);
            document.getElementById('totalJogos').textContent = jogosAdicionados.length.toString();
        }

        function limparTodosJogos() {
            if (jogosAdicionados.length === 0) {
                showCustomAlert('‚ö†Ô∏è Sem Jogos', 'N√£o h√° jogos para limpar!');
                return;
            }
            
            showCustomConfirm('üóëÔ∏è Confirmar Limpeza', `Deseja remover todos os ${jogosAdicionados.length} jogos?`, () => {
                jogosAdicionados = [];
                atualizarVisualizacaoJogos();
                atualizarCustoTotal();
                showCustomAlert('‚úÖ Limpeza Conclu√≠da', 'Todos os jogos foram removidos!');
            });
        }

        function downloadTXT() {
            if (jogosAdicionados.length === 0) {
                showCustomAlert('‚ö†Ô∏è Sem Jogos', 'Adicione alguns jogos primeiro!');
                return;
            }
            
            let conteudo = 'MEGA SENA - JOGOS GERADOS\n';
            conteudo += `Gerado em: ${new Date().toLocaleString('pt-BR')}\n\n`;
            
            jogosAdicionados.forEach((jogo, index) => {
                conteudo += `Jogo ${index + 1}: ${jogo.numeros.map(n => n.toString().padStart(2, '0')).join(' ')} `;
                conteudo += `(${jogo.quantidade} dezenas - ${formatarMoeda(jogo.custo)} - ${jogo.pares}P/${jogo.impares}I)\n`;
            });
            
            const total = jogosAdicionados.reduce((sum, jogo) => sum + jogo.custo, 0);
            conteudo += `\nTOTAL: ${jogosAdicionados.length} jogo(s) - ${formatarMoeda(total)}\n`;
            
            baixarArquivo(conteudo, 'jogos-megasena.txt', 'text/plain');
        }

        function downloadHTML() {
            if (jogosAdicionados.length === 0) {
                showCustomAlert('‚ö†Ô∏è Sem Jogos', 'Adicione alguns jogos primeiro!');
                return;
            }
            
            let html = `
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mega Sena - Meus Jogos</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .jogo { margin: 10px 0; padding: 10px; border: 2px solid #1B9A67; border-radius: 8px; }
        .numero { display: inline-block; width: 35px; height: 35px; background: #1B9A67; color: white; 
                 border-radius: 50%; text-align: center; line-height: 35px; margin: 2px; font-weight: bold; }
        .estrategia { background: #f0fdf4; padding: 10px; border-radius: 8px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>üçÄ MEGA SENA - Meus Jogos</h1>
    <p>Gerado em: ${new Date().toLocaleString('pt-BR')}</p>
    <div class="estrategia">
        <h3>üìä Estrat√©gia Pares vs √çmpares Aplicada</h3>
        <p><strong>Padr√£o hist√≥rico mais comum:</strong> 3P/3I (30.4% dos sorteios)</p>
        <p><strong>√öltimo sorteio:</strong> ${paresUltimoSorteio} pares + ${imparesUltimoSorteio} √≠mpares</p>
    </div>
`;
            
            jogosAdicionados.forEach((jogo, index) => {
                html += `
    <div class="jogo">
        <h3>Jogo ${index + 1} - ${formatarMoeda(jogo.custo)} - ${jogo.origem}</h3>
        <div>
            ${jogo.numeros.map(n => `<span class="numero">${n.toString().padStart(2, '0')}</span>`).join('')}
        </div>
        <p>${jogo.quantidade} dezenas | ${jogo.pares} pares / ${jogo.impares} √≠mpares</p>
    </div>
`;
            });
            
            const total = jogosAdicionados.reduce((sum, jogo) => sum + jogo.custo, 0);
            html += `
    <div style="margin-top: 20px; padding: 15px; background: #f0f0f0; border-radius: 8px;">
        <h2>Total: ${jogosAdicionados.length} jogo(s) - ${formatarMoeda(total)}</h2>
        <p><strong>Estrat√©gia aplicada:</strong> Pares vs √çmpares baseada em dados hist√≥ricos</p>
    </div>
</body>
</html>
`;
            
            baixarArquivo(html, 'jogos-megasena.html', 'text/html');
        }

        function downloadXLSX() {
            if (jogosAdicionados.length === 0) {
                showCustomAlert('‚ö†Ô∏è Sem Jogos', 'Adicione alguns jogos primeiro!');
                return;
            }
            
            const wb = XLSX.utils.book_new();
            const wsData = [
                ['Jogo', 'N√∫meros', 'Quantidade', 'Custo', 'Pares', '√çmpares', 'Origem']
            ];
            
            jogosAdicionados.forEach((jogo, index) => {
                wsData.push([
                    `Jogo ${index + 1}`,
                    jogo.numeros.map(n => n.toString().padStart(2, '0')).join(' '),
                    jogo.quantidade,
                    jogo.custo,
                    jogo.pares,
                    jogo.impares,
                    jogo.origem
                ]);
            });
            
            const total = jogosAdicionados.reduce((sum, jogo) => sum + jogo.custo, 0);
            wsData.push(['', '', '', '', '', '', '']);
            wsData.push(['TOTAL', `${jogosAdicionados.length} jogos`, '', total, '', '', '']);
            
            const ws = XLSX.utils.aoa_to_sheet(wsData);
            XLSX.utils.book_append_sheet(wb, ws, 'Jogos Mega Sena');
            XLSX.writeFile(wb, 'jogos-megasena.xlsx');
        }

        function baixarArquivo(conteudo, nomeArquivo, tipo) {
            const blob = new Blob([conteudo], { type: tipo });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = nomeArquivo;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function formatarMoeda(valor) {
            return new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL'
            }).format(valor);
        }

        function showCustomAlert(titulo, mensagem) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white p-6 rounded-lg shadow-lg max-w-sm w-full mx-4">
                    <h3 class="font-bold text-megasena mb-4">${titulo}</h3>
                    <p class="text-gray-700 mb-4">${mensagem}</p>
                    <div class="text-center">
                        <button class="bg-megasena hover:bg-megasena-dark text-white px-6 py-2 rounded-lg" onclick="this.closest('.fixed').remove()">OK</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function showCustomConfirm(titulo, mensagem, callback) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white p-6 rounded-lg shadow-lg max-w-sm w-full mx-4">
                    <h3 class="font-bold text-megasena mb-4">${titulo}</h3>
                    <p class="text-gray-700 mb-4">${mensagem}</p>
                    <div class="flex justify-center space-x-3">
                        <button class="px-4 py-2 text-gray-600 hover:bg-gray-100 rounded" onclick="this.closest('.fixed').remove()">Cancelar</button>
                        <button class="px-4 py-2 bg-megasena text-white hover:bg-megasena-dark rounded" onclick="this.closest('.fixed').remove(); (${callback})()">Confirmar</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // ===== SE√á√ÉO 2: FUN√á√ïES MINIMALISTAS =====
        function gerarJogosMinimalistas() {
            const qtdJogos = parseInt(document.getElementById('qtdJogosMin').value);
            const dezenasJogo = parseInt(document.getElementById('dezenasPorJogoMin').value);
            const estrategia = document.getElementById('estrategiaMin').value;

            const jogosGerados = [];
            
            for (let i = 0; i < qtdJogos; i++) {
                let jogo;
                
                switch (estrategia) {
                    case 'equilibrada':
                        jogo = gerarJogoEquilibrado(dezenasJogo);
                        break;
                    case 'pares':
                        jogo = gerarJogoComMaisPares(dezenasJogo);
                        break;
                    case 'impares':
                        jogo = gerarJogoComMaisImpares(dezenasJogo);
                        break;
                    default:
                        jogo = gerarJogoAleatorio(dezenasJogo);
                }
                
                jogosGerados.push({
                    id: Date.now() + i,
                    numeros: jogo.sort((a, b) => a - b),
                    quantidade: dezenasJogo,
                    custo: sistemaValores.obterValor(dezenasJogo),
                    pares: jogo.filter(n => n % 2 === 0).length,
                    impares: jogo.filter(n => n % 2 !== 0).length,
                    origem: 'Minimalista'
                });
            }
            
            exibirJogosMinimalistas(jogosGerados);
        }

        function gerarJogoEquilibrado(quantidade) {
            const numeros = [];
            const pares = [];
            const impares = [];
            
            for (let i = 1; i <= 60; i++) {
                if (i % 2 === 0) pares.push(i);
                else impares.push(i);
            }
            
            const qtdPares = Math.round(quantidade / 2);
            const qtdImpares = quantidade - qtdPares;
            
            for (let i = 0; i < qtdPares; i++) {
                const index = Math.floor(Math.random() * pares.length);
                numeros.push(pares.splice(index, 1)[0]);
            }
            
            for (let i = 0; i < qtdImpares; i++) {
                const index = Math.floor(Math.random() * impares.length);
                numeros.push(impares.splice(index, 1)[0]);
            }
            
            return numeros;
        }

        function gerarJogoComMaisPares(quantidade) {
            const numeros = [];
            const pares = [];
            const impares = [];
            
            for (let i = 1; i <= 60; i++) {
                if (i % 2 === 0) pares.push(i);
                else impares.push(i);
            }
            
            const qtdPares = Math.ceil(quantidade * 0.7); // 70% pares
            const qtdImpares = quantidade - qtdPares;
            
            for (let i = 0; i < qtdPares; i++) {
                const index = Math.floor(Math.random() * pares.length);
                numeros.push(pares.splice(index, 1)[0]);
            }
            
            for (let i = 0; i < qtdImpares; i++) {
                const index = Math.floor(Math.random() * impares.length);
                numeros.push(impares.splice(index, 1)[0]);
            }
            
            return numeros;
        }

        function gerarJogoComMaisImpares(quantidade) {
            const numeros = [];
            const pares = [];
            const impares = [];
            
            for (let i = 1; i <= 60; i++) {
                if (i % 2 === 0) pares.push(i);
                else impares.push(i);
            }
            
            const qtdImpares = Math.ceil(quantidade * 0.7); // 70% √≠mpares
            const qtdPares = quantidade - qtdImpares;
            
            for (let i = 0; i < qtdPares; i++) {
                const index = Math.floor(Math.random() * pares.length);
                numeros.push(pares.splice(index, 1)[0]);
            }
            
            for (let i = 0; i < qtdImpares; i++) {
                const index = Math.floor(Math.random() * impares.length);
                numeros.push(impares.splice(index, 1)[0]);
            }
            
            return numeros;
        }

        function gerarJogoAleatorio(quantidade) {
            const numeros = [];
            const disponiveis = [];
            
            for (let i = 1; i <= 60; i++) disponiveis.push(i);
            
            for (let i = 0; i < quantidade; i++) {
                const index = Math.floor(Math.random() * disponiveis.length);
                numeros.push(disponiveis.splice(index, 1)[0]);
            }
            
            return numeros;
        }

        function exibirJogosMinimalistas(jogos) {
            const lista = document.getElementById('listaJogosMin');
            const resultados = document.getElementById('resultadosMin');
            
            lista.innerHTML = '';
            
            jogos.forEach((jogo, index) => {
                const jogoDiv = document.createElement('div');
                jogoDiv.className = 'jogo-minimalista-card';
                jogoDiv.innerHTML = `
                    <div class="flex justify-between items-center mb-2">
                        <span class="font-bold text-purple-600">Minimalista ${index + 1}</span>
                        <div class="flex gap-1">
                            <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">${jogo.pares}P</span>
                            <span class="text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded">${jogo.impares}I</span>
                            <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">${formatarMoeda(jogo.custo)}</span>
                        </div>
                    </div>
                    <div class="flex flex-wrap gap-1 mb-1">
                        ${jogo.numeros.map(num => `<span class="numero-minimalista">${num.toString().padStart(2, '0')}</span>`).join('')}
                    </div>
                    <div class="text-xs text-gray-600">${jogo.quantidade} dezenas | ${jogo.pares}P/${jogo.impares}I</div>
                `;
                lista.appendChild(jogoDiv);
            });
            
            resultados.classList.remove('hidden');
            
            // Armazenar jogos para adicionar depois
            window.jogosMinimalistasGerados = jogos;
        }

        // ===== SE√á√ÉO 3: FUN√á√ïES POR POSI√á√ïES =====
        function preencherPosicoesBaseadoResultado() {
            if (!ultimoResultado || !ultimoResultado.listaDezenas) {
                showCustomAlert('‚ö†Ô∏è Dados Indispon√≠veis', 'N√£o h√° dados do √∫ltimo resultado para usar como base!');
                return;
            }
            
            const numeros = ultimoResultado.listaDezenas.map(n => parseInt(n)).sort((a, b) => a - b);
            
            // Preencher campos com base nos n√∫meros sorteados
            document.getElementById('pos1').value = gerarVariacoes(numeros[0], 5).join(',');
            document.getElementById('pos2').value = gerarVariacoes(numeros[1], 5).join(',');
            document.getElementById('pos3').value = gerarVariacoes(numeros[2], 5).join(',');
            document.getElementById('pos4').value = gerarVariacoes(numeros[3], 5).join(',');
            document.getElementById('pos5').value = gerarVariacoes(numeros[4], 5).join(',');
            document.getElementById('pos6').value = gerarVariacoes(numeros[5], 5).join(',');
            
            showCustomAlert('‚úÖ Posi√ß√µes Preenchidas', 'Campos preenchidos com base no √∫ltimo resultado!');
        }

        function gerarVariacoes(numeroBase, quantidade) {
            const variacoes = new Set([numeroBase]);
            
            // Adicionar n√∫meros pr√≥ximos
            for (let i = 1; i <= 5; i++) {
                if (numeroBase - i >= 1) variacoes.add(numeroBase - i);
                if (numeroBase + i <= 60) variacoes.add(numeroBase + i);
                if (variacoes.size >= quantidade) break;
            }
            
            return Array.from(variacoes).slice(0, quantidade);
        }

        function gerarJogosPorPosicoes() {
            const posicoes = [];
            
            for (let i = 1; i <= 6; i++) {
                const input = document.getElementById(`pos${i}`);
                const numeros = input.value.split(',')
                    .map(n => parseInt(n.trim()))
                    .filter(n => n >= 1 && n <= 60);
                    
                if (numeros.length === 0) {
                    showCustomAlert('‚ö†Ô∏è Campo Vazio', `Preencha a ${i}¬™ posi√ß√£o!`);
                    return;
                }
                
                posicoes.push(numeros);
            }
            
            const qtdJogos = parseInt(document.getElementById('qtdJogosPos').value);
            const jogosGerados = [];
            
            for (let i = 0; i < qtdJogos; i++) {
                const jogo = [];
                
                for (let pos = 0; pos < 6; pos++) {
                    const numerosDisponiveis = posicoes[pos].filter(n => !jogo.includes(n));
                    if (numerosDisponiveis.length > 0) {
                        const escolhido = numerosDisponiveis[Math.floor(Math.random() * numerosDisponiveis.length)];
                        jogo.push(escolhido);
                    }
                }
                
                // Garantir 6 n√∫meros √∫nicos
                while (jogo.length < 6) {
                    const numeroAleatorio = Math.floor(Math.random() * 60) + 1;
                    if (!jogo.includes(numeroAleatorio)) {
                        jogo.push(numeroAleatorio);
                    }
                }
                
                jogosGerados.push({
                    id: Date.now() + i,
                    numeros: jogo.sort((a, b) => a - b),
                    quantidade: 6,
                    custo: sistemaValores.obterValor(6),
                    pares: jogo.filter(n => n % 2 === 0).length,
                    impares: jogo.filter(n => n % 2 !== 0).length,
                    origem: 'Posi√ß√µes'
                });
            }
            
            exibirJogosPorPosicoes(jogosGerados);
        }

        function exibirJogosPorPosicoes(jogos) {
            const lista = document.getElementById('listaJogosPos');
            const resultados = document.getElementById('resultadosPos');
            
            lista.innerHTML = '';
            
            jogos.forEach((jogo, index) => {
                const jogoDiv = document.createElement('div');
                jogoDiv.className = 'jogo-minimalista-card';
                jogoDiv.innerHTML = `
                    <div class="flex justify-between items-center mb-2">
                        <span class="font-bold text-orange-600">Posi√ß√µes ${index + 1}</span>
                        <div class="flex gap-1">
                            <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">${jogo.pares}P</span>
                            <span class="text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded">${jogo.impares}I</span>
                            <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">${formatarMoeda(jogo.custo)}</span>
                        </div>
                    </div>
                    <div class="flex flex-wrap gap-1 mb-1">
                        ${jogo.numeros.map(num => `<span class="numero-minimalista">${num.toString().padStart(2, '0')}</span>`).join('')}
                    </div>
                    <div class="text-xs text-gray-600">${jogo.pares}P/${jogo.impares}I</div>
                `;
                lista.appendChild(jogoDiv);
            });
            
            resultados.classList.remove('hidden');
            window.jogosPosicaoGerados = jogos;
        }

        // ===== SE√á√ÉO 4: FUN√á√ïES RESULTADOS ALTERADOS =====
        function atualizarNumerosBaseAlterados() {
            const container = document.getElementById('numerosBaseAlterados');
            if (!ultimoResultado || !ultimoResultado.listaDezenas) return;
            
            container.innerHTML = ultimoResultado.listaDezenas
                .map(num => `<span class="numero-base">${num}</span>`)
                .join('');
        }

        function gerarJogosAlterados() {
            if (!ultimoResultado || !ultimoResultado.listaDezenas) {
                showCustomAlert('‚ö†Ô∏è Dados Indispon√≠veis', 'N√£o h√° dados do √∫ltimo resultado!');
                return;
            }
            
            const numerosBase = ultimoResultado.listaDezenas.map(n => parseInt(n));
            const qtdTrocar = parseInt(document.getElementById('numerosTrocar').value);
            const qtdJogos = parseInt(document.getElementById('qtdJogosAlt').value);
            
            const jogosGerados = [];
            
            for (let i = 0; i < qtdJogos; i++) {
                const jogoAlterado = [...numerosBase];
                const indicesParaTrocar = [];
                
                // Selecionar posi√ß√µes aleat√≥rias para trocar
                while (indicesParaTrocar.length < qtdTrocar) {
                    const indice = Math.floor(Math.random() * 6);
                    if (!indicesParaTrocar.includes(indice)) {
                        indicesParaTrocar.push(indice);
                    }
                }
                
                // Trocar os n√∫meros
                indicesParaTrocar.forEach(indice => {
                    let novoNumero;
                    do {
                        novoNumero = Math.floor(Math.random() * 60) + 1;
                    } while (jogoAlterado.includes(novoNumero));
                    
                    jogoAlterado[indice] = novoNumero;
                });
                
                jogosGerados.push({
                    id: Date.now() + i,
                    numeros: jogoAlterado.sort((a, b) => a - b),
                    quantidade: 6,
                    custo: sistemaValores.obterValor(6),
                    pares: jogoAlterado.filter(n => n % 2 === 0).length,
                    impares: jogoAlterado.filter(n => n % 2 !== 0).length,
                    origem: 'Alterados'
                });
            }
            
            exibirJogosAlterados(jogosGerados);
        }

        function exibirJogosAlterados(jogos) {
            const lista = document.getElementById('listaJogosAlt');
            const resultados = document.getElementById('resultadosAlt');
            
            lista.innerHTML = '';
            
            jogos.forEach((jogo, index) => {
                const jogoDiv = document.createElement('div');
                jogoDiv.className = 'jogo-alterado-card';
                jogoDiv.innerHTML = `
                    <div class="flex justify-between items-center mb-2">
                        <span class="font-bold text-red-600">Alterado ${index + 1}</span>
                        <div class="flex gap-1">
                            <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">${jogo.pares}P</span>
                            <span class="text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded">${jogo.impares}I</span>
                            <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">${formatarMoeda(jogo.custo)}</span>
                        </div>
                    </div>
                    <div class="flex flex-wrap gap-1 mb-1">
                        ${jogo.numeros.map(num => `<span class="numero-alterado">${num.toString().padStart(2, '0')}</span>`).join('')}
                    </div>
                    <div class="text-xs text-gray-600">${jogo.pares}P/${jogo.impares}I</div>
                `;
                lista.appendChild(jogoDiv);
            });
            
            resultados.classList.remove('hidden');
            window.jogosAlteradosGerados = jogos;
        }

        // ===== SE√á√ÉO 5: FUN√á√ïES REGRAS FIXAS =====
        function gerarJogosRegrasFixas() {
            const qtdPares = parseInt(document.getElementById('qtdPares').value);
            const qtdImpares = parseInt(document.getElementById('qtdImpares').value);
            const faixa1 = parseInt(document.getElementById('faixa1').value);
            const faixa2 = parseInt(document.getElementById('faixa2').value);
            const estrategia = document.getElementById('estrategiaFix').value;
            const qtdJogos = parseInt(document.getElementById('qtdJogosFix').value);
            
            if (qtdPares + qtdImpares !== 6) {
                showCustomAlert('‚ö†Ô∏è Configura√ß√£o Inv√°lida', 'A soma de pares e √≠mpares deve ser 6!');
                return;
            }
            
            if (faixa1 + faixa2 !== 6) {
                showCustomAlert('‚ö†Ô∏è Configura√ß√£o Inv√°lida', 'A soma das faixas deve ser 6!');
                return;
            }
            
            const jogosGerados = [];
            
            for (let i = 0; i < qtdJogos; i++) {
                const jogo = gerarJogoComRegras(qtdPares, qtdImpares, faixa1, faixa2, estrategia);
                
                jogosGerados.push({
                    id: Date.now() + i,
                    numeros: jogo.sort((a, b) => a - b),
                    quantidade: 6,
                    custo: sistemaValores.obterValor(6),
                    pares: jogo.filter(n => n % 2 === 0).length,
                    impares: jogo.filter(n => n % 2 !== 0).length,
                    origem: 'Regras Fixas'
                });
            }
            
            exibirJogosRegrasFixas(jogosGerados);
        }

        function gerarJogoComRegras(qtdPares, qtdImpares, faixa1, faixa2, estrategia) {
            const numeros = [];
            
            // Separar n√∫meros por categoria
            const paresFaixa1 = [];
            const paresFaixa2 = [];
            const imparesFaixa1 = [];
            const imparesFaixa2 = [];
            
            for (let i = 1; i <= 30; i++) {
                if (i % 2 === 0) paresFaixa1.push(i);
                else imparesFaixa1.push(i);
            }
            
            for (let i = 31; i <= 60; i++) {
                if (i % 2 === 0) paresFaixa2.push(i);
                else imparesFaixa2.push(i);
            }
            
            // Shuffle arrays
            [paresFaixa1, paresFaixa2, imparesFaixa1, imparesFaixa2].forEach(arr => {
                for (let i = arr.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [arr[i], arr[j]] = [arr[j], arr[i]];
                }
            });
            
            // Distribuir n√∫meros seguindo as regras
            let paresAdicionados = 0;
            let imparesAdicionados = 0;
            let faixa1Adicionados = 0;
            let faixa2Adicionados = 0;
            
            // Completar com estrat√©gia balanceada
            while (numeros.length < 6) {
                const disponivel = [];
                
                if (paresAdicionados < qtdPares) {
                    if (faixa1Adicionados < faixa1 && paresFaixa1.length > 0) disponivel.push(...paresFaixa1);
                    if (faixa2Adicionados < faixa2 && paresFaixa2.length > 0) disponivel.push(...paresFaixa2);
                }
                
                if (imparesAdicionados < qtdImpares) {
                    if (faixa1Adicionados < faixa1 && imparesFaixa1.length > 0) disponivel.push(...imparesFaixa1);
                    if (faixa2Adicionados < faixa2 && imparesFaixa2.length > 0) disponivel.push(...imparesFaixa2);
                }
                
                if (disponivel.length === 0) break;
                
                const escolhido = disponivel[Math.floor(Math.random() * disponivel.length)];
                
                if (!numeros.includes(escolhido)) {
                    numeros.push(escolhido);
                    
                    if (escolhido % 2 === 0) paresAdicionados++;
                    else imparesAdicionados++;
                    
                    if (escolhido <= 30) faixa1Adicionados++;
                    else faixa2Adicionados++;
                    
                    // Remover de todos os arrays
                    [paresFaixa1, paresFaixa2, imparesFaixa1, imparesFaixa2].forEach(arr => {
                        const index = arr.indexOf(escolhido);
                        if (index > -1) arr.splice(index, 1);
                    });
                }
            }
            
            return numeros;
        }

        function exibirJogosRegrasFixas(jogos) {
            const lista = document.getElementById('listaJogosFix');
            const resultados = document.getElementById('resultadosFix');
            
            lista.innerHTML = '';
            
            jogos.forEach((jogo, index) => {
                const jogoDiv = document.createElement('div');
                jogoDiv.className = 'jogo-regras-fixas-card';
                jogoDiv.innerHTML = `
                    <div class="flex justify-between items-center mb-2">
                        <span class="font-bold text-indigo-600">Regras ${index + 1}</span>
                        <div class="flex gap-1">
                            <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">${jogo.pares}P</span>
                            <span class="text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded">${jogo.impares}I</span>
                            <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">${formatarMoeda(jogo.custo)}</span>
                        </div>
                    </div>
                    <div class="flex flex-wrap gap-1 mb-1">
                        ${jogo.numeros.map(num => `<span class="numero-regras-fixas">${num.toString().padStart(2, '0')}</span>`).join('')}
                    </div>
                    <div class="text-xs text-gray-600">${jogo.pares}P/${jogo.impares}I</div>
                `;
                lista.appendChild(jogoDiv);
            });
            
            resultados.classList.remove('hidden');
            window.jogosRegrasFixasGerados = jogos;
        }

        // Fun√ß√£o para adicionar todos os jogos gerados de uma se√ß√£o
        function adicionarTodosJogosSecao(jogosGerados) {
            if (!jogosGerados || jogosGerados.length === 0) {
                showCustomAlert('‚ö†Ô∏è Nenhum Jogo', 'Gere alguns jogos primeiro!');
                return;
            }
            
            jogosAdicionados.push(...jogosGerados);
            atualizarVisualizacaoJogos();
            atualizarCustoTotal();
            
            showCustomAlert('‚úÖ Jogos Adicionados', `${jogosGerados.length} jogos adicionados com sucesso!`);
        }

        // Atualizar configurarEventListeners para incluir as novas se√ß√µes
        function configurarEventListenersCompletos() {
            configurarEventListeners(); // Chama a fun√ß√£o original
            
            // Se√ß√£o 2: Minimalista
            document.getElementById('gerarJogosMin').onclick = gerarJogosMinimalistas;
            document.getElementById('adicionarTodosMin').onclick = () => adicionarTodosJogosSecao(window.jogosMinimalistasGerados);
            
            // Se√ß√£o 3: Posi√ß√µes
            document.getElementById('preencherPosicoes').onclick = preencherPosicoesBaseadoResultado;
            document.getElementById('gerarJogosPos').onclick = gerarJogosPorPosicoes;
            document.getElementById('adicionarTodosPos').onclick = () => adicionarTodosJogosSecao(window.jogosPosicaoGerados);
            
            // Se√ß√£o 4: Alterados
            document.getElementById('gerarJogosAlt').onclick = gerarJogosAlterados;
            document.getElementById('adicionarTodosAlt').onclick = () => adicionarTodosJogosSecao(window.jogosAlteradosGerados);
            
            // Se√ß√£o 5: Regras Fixas
            document.getElementById('gerarJogosFix').onclick = gerarJogosRegrasFixas;
            document.getElementById('adicionarTodosFix').onclick = () => adicionarTodosJogosSecao(window.jogosRegrasFixasGerados);

            // Event listeners para modais
            ['modalManualBtn', 'modalMinimalistaBtn', 'modalPosicoesBtn', 'modalAlteradosBtn', 'modalRegrasFixasBtn'].forEach(btnId => {
                const btn = document.getElementById(btnId);
                if (btn) {
                    btn.onclick = () => {
                        const modalId = btnId.replace('Btn', '');
                        document.getElementById(modalId).classList.remove('hidden');
                    };
                }
            });

            // Event listeners para fechar modais
            document.querySelectorAll('.modalClose').forEach(btn => {
                btn.onclick = () => {
                    btn.closest('.fixed').classList.add('hidden');
                };
            });

            // Fechar modal clicando fora
            document.querySelectorAll('[id^="modal"]').forEach(modal => {
                modal.onclick = (e) => {
                    if (e.target === modal) {
                        modal.classList.add('hidden');
                    }
                };
            });
        }

        // Substituir a chamada da fun√ß√£o original
        function inicializarInterfaceCompleta() {
            inicializarInterface(); // Chama a fun√ß√£o original
            atualizarNumerosBaseAlterados();
            atualizarTodasInformacoesPareImpares();
        }
		// ===== SE√á√ÉO 6: FECHAMENTO INTELIGENTE =====
		let numerosSelecionadosFechamento = [];

		function inicializarFechamento() {
			criarGridNumerosFechamento();
			atualizarSugestoesPareImpares();
			configurarEventListenersFechamento();
		}

		function criarGridNumerosFechamento() {
			const grid = document.getElementById('gridNumerosFech');
			grid.innerHTML = '';
			
			for (let i = 1; i <= 60; i++) {
				const btn = document.createElement('button');
				btn.className = 'numero-mega';
				btn.dataset.numero = i;
				
				if (i % 2 === 0) {
					btn.classList.add('par');
				} else {
					btn.classList.add('impar');
				}
				
				btn.textContent = i.toString().padStart(2, '0');
				btn.onclick = () => toggleNumeroFechamento(i);
				
				grid.appendChild(btn);
			}
		}

		function toggleNumeroFechamento(numero) {
			const btn = document.querySelector(`#gridNumerosFech .numero-mega[data-numero="${numero}"]`);
			const qtdNecessaria = parseInt(document.getElementById('qtdDezenasFech').value);
			
			if (numerosSelecionadosFechamento.includes(numero)) {
				numerosSelecionadosFechamento = numerosSelecionadosFechamento.filter(n => n !== numero);
				btn.classList.remove('selecionado-fechamento');
			} else if (numerosSelecionadosFechamento.length < qtdNecessaria) {
				numerosSelecionadosFechamento.push(numero);
				btn.classList.add('selecionado-fechamento');
			}
			
			atualizarStatusSelecaoFechamento();
			validarBotaoFechamento();
			atualizarAnaliseFechamento();
		}

		function atualizarStatusSelecaoFechamento() {
			const qtdNecessaria = parseInt(document.getElementById('qtdDezenasFech').value);
			const qtdSelecionada = numerosSelecionadosFechamento.length;
			const faltam = qtdNecessaria - qtdSelecionada;
			
			document.getElementById('dezenasNecessarias').textContent = qtdNecessaria;
			document.getElementById('dezenasSelecionadasFech').textContent = qtdSelecionada;
			
			const statusEl = document.getElementById('statusSelecaoFech');
			if (faltam > 0) {
				statusEl.innerHTML = `Faltam <span class="font-bold text-red-600">${faltam}</span> n√∫meros`;
				statusEl.className = 'ml-2 text-red-600';
			} else if (faltam === 0) {
				statusEl.innerHTML = `<span class="font-bold text-green-600">‚úÖ Sele√ß√£o completa!</span>`;
				statusEl.className = 'ml-2 text-green-600';
			}
		}

		function atualizarSugestoesPareImpares() {
			const qtdTotal = parseInt(document.getElementById('qtdDezenasFech').value);
			const sugeridoPares = Math.round(qtdTotal * 0.6); // 60% pares
			const sugeridoImpares = qtdTotal - sugeridoPares;
			
			// Atualizar displays
			document.getElementById('paresSugeridosFech').textContent = `60% (${sugeridoPares} de ${qtdTotal})`;
			document.getElementById('imparesSugeridosFech').textContent = `40% (${sugeridoImpares} de ${qtdTotal})`;
			
			// Preencher selects
			const selectPares = document.getElementById('qtdParesFech');
			const selectImpares = document.getElementById('qtdImparesFech');
			
			selectPares.innerHTML = '';
			selectImpares.innerHTML = '';
			
			for (let i = 1; i <= qtdTotal - 1; i++) {
				const optPares = document.createElement('option');
				optPares.value = i;
				optPares.textContent = `${i} pares`;
				if (i === sugeridoPares) optPares.selected = true;
				selectPares.appendChild(optPares);
				
				const optImpares = document.createElement('option');
				optImpares.value = qtdTotal - i;
				optImpares.textContent = `${qtdTotal - i} √≠mpares`;
				if (qtdTotal - i === sugeridoImpares) optImpares.selected = true;
				selectImpares.appendChild(optImpares);
			}
		}

		function selecionarAutomaticoFechamento() {
			limparSelecaoFechamento();
			
			const qtdTotal = parseInt(document.getElementById('qtdDezenasFech').value);
			const qtdPares = parseInt(document.getElementById('qtdParesFech').value);
			const qtdImpares = parseInt(document.getElementById('qtdImparesFech').value);
			
			// Separar n√∫meros pares e √≠mpares
			const pares = [];
			const impares = [];
			
			for (let i = 1; i <= 60; i++) {
				if (i % 2 === 0) pares.push(i);
				else impares.push(i);
			}
			
			// Embaralhar arrays
			pares.sort(() => Math.random() - 0.5);
			impares.sort(() => Math.random() - 0.5);
			
			// Selecionar n√∫meros
			for (let i = 0; i < qtdPares; i++) {
				if (pares[i]) {
					numerosSelecionadosFechamento.push(pares[i]);
					const btn = document.querySelector(`#gridNumerosFech .numero-mega[data-numero="${pares[i]}"]`);
					btn.classList.add('selecionado-fechamento');
				}
			}
			
			for (let i = 0; i < qtdImpares; i++) {
				if (impares[i]) {
					numerosSelecionadosFechamento.push(impares[i]);
					const btn = document.querySelector(`#gridNumerosFech .numero-mega[data-numero="${impares[i]}"]`);
					btn.classList.add('selecionado-fechamento');
				}
			}
			
			atualizarStatusSelecaoFechamento();
			validarBotaoFechamento();
			atualizarAnaliseFechamento();
		}

		function basearNoUltimoResultadoFechamento() {
			if (!ultimoResultado || !ultimoResultado.listaDezenas) {
				showCustomAlert('‚ö†Ô∏è Dados Indispon√≠veis', 'N√£o h√° dados do √∫ltimo resultado!');
				return;
			}
			
			limparSelecaoFechamento();
			
			const numerosBase = ultimoResultado.listaDezenas.map(n => parseInt(n));
			const qtdTotal = parseInt(document.getElementById('qtdDezenasFech').value);
			
			// Adicionar n√∫meros do √∫ltimo resultado
			numerosBase.forEach(numero => {
				numerosSelecionadosFechamento.push(numero);
				const btn = document.querySelector(`#gridNumerosFech .numero-mega[data-numero="${numero}"]`);
				btn.classList.add('selecionado-fechamento');
			});
			
			// Completar com n√∫meros pr√≥ximos aos sorteados
			const numerosAdicionais = [];
			numerosBase.forEach(numero => {
				for (let i = 1; i <= 3; i++) {
					const vizinho1 = numero - i;
					const vizinho2 = numero + i;
					
					if (vizinho1 >= 1 && !numerosSelecionadosFechamento.includes(vizinho1)) {
						numerosAdicionais.push(vizinho1);
					}
					if (vizinho2 <= 60 && !numerosSelecionadosFechamento.includes(vizinho2)) {
						numerosAdicionais.push(vizinho2);
					}
				}
			});
			
			// Embaralhar e adicionar n√∫meros adicionais at√© completar
			numerosAdicionais.sort(() => Math.random() - 0.5);
			for (let i = 0; i < numerosAdicionais.length && numerosSelecionadosFechamento.length < qtdTotal; i++) {
				const numero = numerosAdicionais[i];
				numerosSelecionadosFechamento.push(numero);
				const btn = document.querySelector(`#gridNumerosFech .numero-mega[data-numero="${numero}"]`);
				btn.classList.add('selecionado-fechamento');
			}
			
			atualizarStatusSelecaoFechamento();
			validarBotaoFechamento();
			atualizarAnaliseFechamento();
		}

		function limparSelecaoFechamento() {
			numerosSelecionadosFechamento = [];
			document.querySelectorAll('#gridNumerosFech .numero-mega').forEach(btn => {
				btn.classList.remove('selecionado-fechamento');
			});
			atualizarStatusSelecaoFechamento();
			validarBotaoFechamento();
			atualizarAnaliseFechamento();
		}

		function validarBotaoFechamento() {
			const btn = document.getElementById('gerarFechamento');
			const qtdNecessaria = parseInt(document.getElementById('qtdDezenasFech').value);
			btn.disabled = numerosSelecionadosFechamento.length !== qtdNecessaria;
		}

		function atualizarAnaliseFechamento() {
			const qtdJogos = parseInt(document.getElementById('qtdJogosFech').value);
			const custo = qtdJogos * sistemaValores.obterValor(6);
			const qtdDezenas = numerosSelecionadosFechamento.length;
			
			document.getElementById('custoFechamento').textContent = formatarMoeda(custo);
			document.getElementById('jogosGeradosFech').textContent = qtdJogos;
			
			if (qtdDezenas > 0) {
				const totalCombinacoes = calcularCombinacoes(qtdDezenas, 6);
				const cobertura = ((qtdJogos / totalCombinacoes) * 100).toFixed(1);
				document.getElementById('coberturaFechamento').textContent = `${cobertura}%`;
				
				// Calcular garantias estimadas
				const tipoGarantia = document.getElementById('tipoGarantia').value;
				atualizarGarantias(tipoGarantia, qtdJogos, qtdDezenas);
			} else {
				document.getElementById('coberturaFechamento').textContent = '0%';
				document.getElementById('garantiaQuadra').textContent = '-';
				document.getElementById('garantiaQuina').textContent = '-';
				document.getElementById('garantiaSena').textContent = '-';
			}
		}

		function calcularCombinacoes(n, k) {
			if (k > n) return 0;
			if (k === 0 || k === n) return 1;
			
			let result = 1;
			for (let i = 0; i < k; i++) {
				result = result * (n - i) / (i + 1);
			}
			return Math.round(result);
		}

		function atualizarGarantias(tipo, qtdJogos, qtdDezenas) {
			let garantiaQuadra = '-';
			let garantiaQuina = '-';
			let garantiaSena = '-';
			
			switch (tipo) {
				case 'quadra':
					garantiaQuadra = 'Garantida se acertar 6';
					garantiaQuina = 'Poss√≠vel';
					garantiaSena = 'Poss√≠vel';
					break;
				case 'quina':
					garantiaQuadra = 'Garantida';
					garantiaQuina = 'Garantida se acertar 7';
					garantiaSena = 'Poss√≠vel';
					break;
				case 'otimizado':
					garantiaQuadra = 'Alta probabilidade';
					garantiaQuina = 'M√©dia probabilidade';
					garantiaSena = 'Baixa probabilidade';
					break;
				case 'economico':
					garantiaQuadra = 'M√©dia probabilidade';
					garantiaQuina = 'Baixa probabilidade';
					garantiaSena = 'Muito baixa';
					break;
			}
			
			document.getElementById('garantiaQuadra').textContent = garantiaQuadra;
			document.getElementById('garantiaQuina').textContent = garantiaQuina;
			document.getElementById('garantiaSena').textContent = garantiaSena;
		}

		function gerarFechamentoInteligente() {
			const qtdJogos = parseInt(document.getElementById('qtdJogosFech').value);
			const tipoGarantia = document.getElementById('tipoGarantia').value;
			
			if (numerosSelecionadosFechamento.length === 0) {
				showCustomAlert('‚ö†Ô∏è Sele√ß√£o Vazia', 'Selecione os n√∫meros para o fechamento primeiro!');
				return;
			}
			
			const jogosGerados = [];
			
			// Gerar jogos baseado no tipo de garantia
			for (let i = 0; i < qtdJogos; i++) {
				let jogo;
				
				switch (tipoGarantia) {
					case 'quadra':
						jogo = gerarJogoGarantiaQuadra(numerosSelecionadosFechamento);
						break;
					case 'quina':
						jogo = gerarJogoGarantiaQuina(numerosSelecionadosFechamento);
						break;
					case 'otimizado':
						jogo = gerarJogoOtimizado(numerosSelecionadosFechamento);
						break;
					case 'economico':
						jogo = gerarJogoEconomico(numerosSelecionadosFechamento);
						break;
					default:
						jogo = gerarJogoAleatorioFechamento(numerosSelecionadosFechamento);
				}
				
				jogosGerados.push({
					id: Date.now() + i,
					numeros: jogo.sort((a, b) => a - b),
					quantidade: 6,
					custo: sistemaValores.obterValor(6),
					pares: jogo.filter(n => n % 2 === 0).length,
					impares: jogo.filter(n => n % 2 !== 0).length,
					origem: 'Fechamento'
				});
			}
			
			exibirResultadosFechamento(jogosGerados);
		}

		function gerarJogoAleatorioFechamento(numerosDisponiveis) {
			const embaralhados = [...numerosDisponiveis].sort(() => Math.random() - 0.5);
			return embaralhados.slice(0, 6);
		}

		function gerarJogoGarantiaQuadra(numerosDisponiveis) {
			// Estrat√©gia: distribuir bem os n√∫meros para maximizar cobertura
			const jogo = [];
			const copia = [...numerosDisponiveis];
			
			// Pegar n√∫meros espa√ßados
			for (let i = 0; i < 6 && copia.length > 0; i++) {
				const index = Math.floor(i * copia.length / 6);
				jogo.push(copia.splice(index, 1)[0]);
			}
			
			return jogo;
		}

		function gerarJogoGarantiaQuina(numerosDisponiveis) {
			// Estrat√©gia mais conservadora para quina
			return gerarJogoAleatorioFechamento(numerosDisponiveis);
		}

		function gerarJogoOtimizado(numerosDisponiveis) {
			// Mescla estrat√©gias
			const jogo = [];
			const pares = numerosDisponiveis.filter(n => n % 2 === 0);
			const impares = numerosDisponiveis.filter(n => n % 2 !== 0);
			
			// 3 pares, 3 √≠mpares (estrat√©gia equilibrada)
			const paresEscolhidos = pares.sort(() => Math.random() - 0.5).slice(0, 3);
			const imparesEscolhidos = impares.sort(() => Math.random() - 0.5).slice(0, 3);
			
			return [...paresEscolhidos, ...imparesEscolhidos];
		}

		function gerarJogoEconomico(numerosDisponiveis) {
			// Estrat√©gia mais simples e econ√¥mica
			return gerarJogoAleatorioFechamento(numerosDisponiveis);
		}

		function exibirResultadosFechamento(jogos) {
			const lista = document.getElementById('listaJogosFech');
			const resultados = document.getElementById('resultadosFech');
			
			lista.innerHTML = '';
			
			// Atualizar resumo
			const custoTotal = jogos.reduce((sum, jogo) => sum + jogo.custo, 0);
			const tipoGarantia = document.getElementById('tipoGarantia').value;
			
			document.getElementById('resumoFechamento').textContent = `${jogos.length} jogos`;
			document.getElementById('custoTotalFech').textContent = formatarMoeda(custoTotal);
			document.getElementById('garantiaFechamento').textContent = obterTextoGarantia(tipoGarantia);
			
			jogos.forEach((jogo, index) => {
				const jogoDiv = document.createElement('div');
				jogoDiv.className = 'jogo-fechamento-card';
				jogoDiv.innerHTML = `
					<div class="flex justify-between items-center mb-2">
						<span class="font-bold text-yellow-600">Fechamento ${index + 1}</span>
						<div class="flex gap-1">
							<span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">${jogo.pares}P</span>
							<span class="text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded">${jogo.impares}I</span>
							<span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">${formatarMoeda(jogo.custo)}</span>
						</div>
					</div>
					<div class="flex flex-wrap gap-1 mb-1">
						${jogo.numeros.map(num => `<span class="numero-fechamento">${num.toString().padStart(2, '0')}</span>`).join('')}
					</div>
					<div class="text-xs text-gray-600">${jogo.pares}P/${jogo.impares}I</div>
				`;
				lista.appendChild(jogoDiv);
			});
			
			resultados.classList.remove('hidden');
			window.jogosFechamentoGerados = jogos;
		}

		function obterTextoGarantia(tipo) {
			const textos = {
				'quadra': 'Quadra garantida se acertar 6',
				'quina': 'Quina garantida se acertar 7',
				'otimizado': 'Fechamento otimizado',
				'economico': 'Fechamento econ√¥mico'
			};
			return textos[tipo] || 'Fechamento personalizado';
		}

		function configurarEventListenersFechamento() {
			// Event listeners para fechamento
			document.getElementById('qtdDezenasFech').onchange = () => {
				atualizarSugestoesPareImpares();
				limparSelecaoFechamento();
			};
			
			document.getElementById('qtdJogosFech').onchange = atualizarAnaliseFechamento;
			document.getElementById('tipoGarantia').onchange = atualizarAnaliseFechamento;
			
			document.getElementById('selecionarAutomaticoFech').onclick = selecionarAutomaticoFechamento;
			document.getElementById('basearUltimoResultadoFech').onclick = basearNoUltimoResultadoFechamento;
			document.getElementById('limparSelecaoFech').onclick = limparSelecaoFechamento;
			document.getElementById('gerarFechamento').onclick = gerarFechamentoInteligente;
			document.getElementById('novoFechamento').onclick = limparSelecaoFechamento;
			
			document.getElementById('adicionarTodosFech').onclick = () => {
				adicionarTodosJogosSecao(window.jogosFechamentoGerados);
			};
		}

		// Inicializar fechamento quando o DOM carregar
		document.addEventListener('DOMContentLoaded', () => {
			setTimeout(() => {
				inicializarFechamento();
			}, 1500);
		});
		
    </script>
</body>
</html>